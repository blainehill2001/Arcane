{"ast":null,"code":"var _jsxFileName = \"/Users/blainehill/Desktop/Arcane/ui/src/DisplayRecommendations.js\";\nimport React from \"react\";\nimport $ from 'jquery';\nimport { Button } from 'react-bootstrap';\nimport Cookies from \"js-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DisplayRecommendations = ({\n  seedTracks,\n  recommendations,\n  updateRecommendations,\n  deleteRecommendation,\n  clearRecommendations\n}) => {\n  function generateRecommendations(seedTracks, token_key) {\n    let requestData = {\n      limit: \"25\",\n      seed_tracks: seedTracks,\n      token: Cookies.get(token_key)\n    };\n    let url;\n\n    if (process.env.NODE_ENV == \"production\") {\n      url = \"/api/recommendations\";\n    } else {\n      url = \"http://localhost:3001/api/recommendations\";\n    }\n\n    $.ajax({\n      url: url,\n      dataType: 'json',\n      data: requestData,\n      type: \"POST\"\n    }).done(function (data) {\n      if (responseIsSuccess(data)) {\n        if (recommendations.length > 0) {\n          clearRecommendations(recommendations);\n        }\n\n        data.trackResult.tracks.forEach(track => {\n          updateRecommendations(recommendations, track);\n        });\n      }\n    });\n  }\n\n  function responseIsSuccess(data) {\n    var error;\n\n    if (data && data.status.error == null) {\n      error = data.status;\n    } else {\n      error = data.status.error.response.status || \"401\";\n    }\n\n    var msg = data.message;\n\n    if (error && parseInt(error) == 401) {\n      alert(msg);\n      return false;\n    }\n\n    if (error && error >= 400) {\n      console.log(msg);\n      alert(msg || \"Error: Please try logging in and out again.\");\n      return false;\n    }\n\n    return true;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: seedTracks.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          class: \"bg-gray-800\",\n          variant: \"secondary btn-lg\",\n          onClick: () => generateRecommendations(seedTracks.map(track => track.id), 'arcane-token-key'),\n          children: \"Get Recommendations!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: recommendations.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"flex flex-row flex-wrap mx-8 my-4 px-4 py-4 ring ring-transparent rounded-lg bg-green-700\",\n          children: recommendations.map(track => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"container mx-auto w-1/2 lg:w-1/5 md:w-1/3 p-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                class: \"object-cover w-full h-full p-4 ring ring-transparent rounded-lg bg-green-800 hover:bg-blue-500 active:bg-indigo-800\",\n                onClick: () => deleteRecommendation(recommendations, track),\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"flex flex-row flex-wrap justify-around\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: track.album.images[0].url\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 82,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    class: \"text-xs sm:text-sm md:text-base lg:text-lg\",\n                    children: [track.name, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 83,\n                      columnNumber: 116\n                    }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                      children: [\"by \", track.artists[0].name]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 83,\n                      columnNumber: 123\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 83,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 45\n                }, this)\n              }, track.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 37\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n};\n\n_c = DisplayRecommendations;\nexport default DisplayRecommendations;\n\nvar _c;\n\n$RefreshReg$(_c, \"DisplayRecommendations\");","map":{"version":3,"sources":["/Users/blainehill/Desktop/Arcane/ui/src/DisplayRecommendations.js"],"names":["React","$","Button","Cookies","DisplayRecommendations","seedTracks","recommendations","updateRecommendations","deleteRecommendation","clearRecommendations","generateRecommendations","token_key","requestData","limit","seed_tracks","token","get","url","process","env","NODE_ENV","ajax","dataType","data","type","done","responseIsSuccess","length","trackResult","tracks","forEach","track","error","status","response","msg","message","parseInt","alert","console","log","map","id","album","images","name","artists"],"mappings":"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","sourcesContent":["\nimport React from \"react\";\nimport $ from 'jquery';\nimport { Button } from 'react-bootstrap';\nimport Cookies from \"js-cookie\";\n\n\nconst DisplayRecommendations = ({ seedTracks, recommendations, updateRecommendations, deleteRecommendation, clearRecommendations }) => {\n\n    function generateRecommendations(seedTracks, token_key) {\n        \n        let requestData = {\n            limit: \"25\",\n            seed_tracks: seedTracks,\n            token: Cookies.get(token_key)\n        };\n\n        let url;\n        if (process.env.NODE_ENV == \"production\") {\n            url = \"/api/recommendations\";\n        } else {\n            url = \"http://localhost:3001/api/recommendations\";\n        }\n\n        $.ajax({\n            url: url,\n            dataType : 'json',\n            data: requestData,\n            type: \"POST\"\n        }).done(function (data) {\n            if (responseIsSuccess(data)) {\n                if(recommendations.length > 0){\n                    clearRecommendations(recommendations);\n                }\n                data.trackResult.tracks.forEach((track) => {updateRecommendations(recommendations, track);});\n            }\n        });\n    }\n\n    function responseIsSuccess(data) {\n        var error;\n        if (data && data.status.error == null) {\n            error = data.status;\n        } else {\n            error = data.status.error.response.status || \"401\";\n        }\n\n        var msg = data.message;\n        \n        if (error && parseInt(error) == 401) {\n            alert(msg);\n            return false;\n        }\n        if (error && error >= 400) {\n            console.log(msg);\n            alert(msg || \"Error: Please try logging in and out again.\");\n            return false;\n        }\n        return true;\n    }\n\n    return(\n        <div>\n            {seedTracks.length > 0 &&\n                <div>\n                    <div>\n                        <br />\n                        <Button class=\"bg-gray-800\" variant=\"secondary btn-lg\" onClick={() => generateRecommendations(seedTracks.map( track => track.id), 'arcane-token-key')}>\n                            Get Recommendations!\n                        </Button>\n                        <br />\n                        <br />\n                    </div>\n                    <div>\n                        { recommendations.length > 0 &&\n                            <div class=\"flex flex-row flex-wrap mx-8 my-4 px-4 py-4 ring ring-transparent rounded-lg bg-green-700\">\n                            {recommendations.map((track) => {\n                                return(\n                                    <div class=\"container mx-auto w-1/2 lg:w-1/5 md:w-1/3 p-3\">\n                                        <button class=\"object-cover w-full h-full p-4 ring ring-transparent rounded-lg bg-green-800 hover:bg-blue-500 active:bg-indigo-800\" key={track.id}  onClick={() => deleteRecommendation(recommendations, track)}>\n                                            <div class=\"flex flex-row flex-wrap justify-around\">\n                                                <img src={track.album.images[0].url} />\n                                                <p class=\"text-xs sm:text-sm md:text-base lg:text-lg\">{track.name} <br /> <i>by {track.artists[0].name}</i></p>\n                                            </div>\n                                        </button>\n                                        <br />\n                                    </div>\n                                    );\n                                })}\n                        </div>\n                        }\n                    </div>\n\n                </div>\n            }\n        </div>\n    );\n}\n\nexport default DisplayRecommendations;"]},"metadata":{},"sourceType":"module"}