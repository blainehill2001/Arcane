{"ast":null,"code":"var _jsxFileName = \"/Users/blainehill/Desktop/Arcane2/ui/src/DisplayRecommendations.js\";\nimport React from \"react\";\nimport $ from 'jquery';\nimport { Button } from 'react-bootstrap';\nimport Cookies from \"js-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DisplayRecommendations = ({\n  seedTracks,\n  recommendations,\n  updateRecommendations,\n  deleteRecommendation\n}) => {\n  function generateRecommendations(seedTracks, token_key) {\n    let requestData = {\n      limit: \"25\",\n      seed_tracks: seedTracks,\n      token: Cookies.get(token_key)\n    };\n    $.ajax({\n      url: \"/api/recommendations\",\n      dataType: 'json',\n      data: requestData,\n      type: \"POST\"\n    }).done(function (data) {\n      if (responseIsSuccess(data)) {\n        data.trackResult.tracks.forEach(track => {\n          updateRecommendations(recommendations, track);\n        });\n      }\n    });\n  }\n\n  function responseIsSuccess(data) {\n    var error;\n\n    if (data && data.status.error == null) {\n      error = data.status;\n    } else {\n      error = data.status.error.response.status || \"401\";\n    }\n\n    var msg = data.message;\n\n    if (error && parseInt(error) == 401) {\n      alert(msg);\n      return false;\n    }\n\n    if (error && error >= 400) {\n      console.log(msg);\n      alert(msg || \"Error: Please try logging in and out again.\");\n      return false;\n    }\n\n    return true;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: seedTracks.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          class: \"bg-gray-800\",\n          variant: \"secondary btn-lg\",\n          onClick: () => generateRecommendations(seedTracks.map(track => track.id), 'arcane-token-key'),\n          children: \"Get Recommendations!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: recommendations.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"flex flex-row flex-wrap mx-16 my-4 px-4 py-4 ring rounded-lg\",\n          children: recommendations.map(track => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"container mx-auto w-1/5 p-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                class: \"object-cover w-auto h-auto p-3 ring rounded-lg hover:bg-blue-500 active:bg-green-800\",\n                onClick: () => deleteRecommendation(recommendations, track),\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: track.album.images[0].url\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  class: \"text-base md:text-lg sm:text-sm\",\n                  children: [track.name, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 72,\n                    columnNumber: 101\n                  }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                    children: [\"by \", track.artists[0].name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 72,\n                    columnNumber: 108\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 45\n                }, this)]\n              }, track.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 37\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n\n_c = DisplayRecommendations;\nexport default DisplayRecommendations;\n\nvar _c;\n\n$RefreshReg$(_c, \"DisplayRecommendations\");","map":{"version":3,"sources":["/Users/blainehill/Desktop/Arcane2/ui/src/DisplayRecommendations.js"],"names":["React","$","Button","Cookies","DisplayRecommendations","seedTracks","recommendations","updateRecommendations","deleteRecommendation","generateRecommendations","token_key","requestData","limit","seed_tracks","token","get","ajax","url","dataType","data","type","done","responseIsSuccess","trackResult","tracks","forEach","track","error","status","response","msg","message","parseInt","alert","console","log","length","map","id","album","images","name","artists"],"mappings":"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","sourcesContent":["\nimport React from \"react\";\nimport $ from 'jquery';\nimport { Button } from 'react-bootstrap';\nimport Cookies from \"js-cookie\";\n\n\nconst DisplayRecommendations = ({ seedTracks, recommendations, updateRecommendations, deleteRecommendation }) => {\n\n    function generateRecommendations(seedTracks, token_key) {\n        \n        let requestData = {\n            limit: \"25\",\n            seed_tracks: seedTracks,\n            token: Cookies.get(token_key)\n        };\n\n        $.ajax({\n            url: \"/api/recommendations\",\n            dataType : 'json',\n            data: requestData,\n            type: \"POST\"\n        }).done(function (data) {\n            if (responseIsSuccess(data)) {\n                data.trackResult.tracks.forEach((track) => {updateRecommendations(recommendations, track);});\n            }\n        });\n    }\n\n    function responseIsSuccess(data) {\n        var error;\n        if (data && data.status.error == null) {\n            error = data.status;\n        } else {\n            error = data.status.error.response.status || \"401\";\n        }\n\n        var msg = data.message;\n        \n        if (error && parseInt(error) == 401) {\n            alert(msg);\n            return false;\n        }\n        if (error && error >= 400) {\n            console.log(msg);\n            alert(msg || \"Error: Please try logging in and out again.\");\n            return false;\n        }\n        return true;\n    }\n\n    return(\n        <div>\n            {seedTracks.length > 0 &&\n                <div>\n                    <div>\n                        <br />\n                        <Button class=\"bg-gray-800\" variant=\"secondary btn-lg\" onClick={() => generateRecommendations(seedTracks.map( track => track.id), 'arcane-token-key')}>\n                            Get Recommendations!\n                        </Button>\n                        <br />\n                        <br />\n                    </div>\n                    <div>\n                        { recommendations.length > 0 &&\n                            <div class=\"flex flex-row flex-wrap mx-16 my-4 px-4 py-4 ring rounded-lg\">\n                            {recommendations.map((track) => {\n                                return(\n                                    <div class=\"container mx-auto w-1/5 p-3\">\n                                        <button class=\"object-cover w-auto h-auto p-3 ring rounded-lg hover:bg-blue-500 active:bg-green-800\" key={track.id}  onClick={() => deleteRecommendation(recommendations, track)}>   \n                                            <img src={track.album.images[0].url} />\n                                            <p class=\"text-base md:text-lg sm:text-sm\">{track.name} <br /> <i>by {track.artists[0].name}</i></p>\n                                        </button>\n                                        <br />\n                                    </div>\n                                    );\n                                })}\n                        </div>\n                        }\n                    </div>\n\n                </div>\n            }\n        </div>\n    );\n}\n\nexport default DisplayRecommendations;"]},"metadata":{},"sourceType":"module"}