{"ast":null,"code":"var _jsxFileName = \"/Users/blainehill/Desktop/Arcane/ui/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Welcome from './Welcome';\nimport SearchTrack from './SearchTrack';\nimport DisplaySeeds from './DisplaySeeds';\nimport DisplayRecommendations from './DisplayRecommendations';\nimport CreatePlaylist from './CreatePlaylist';\nimport Cookies from \"js-cookie\";\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _ = require('underscore');\n\nfunction App() {\n  _s();\n\n  const [seedTracks, setSeedTracks] = useState([]);\n  const [recommendations, setRecommendations] = useState([]);\n  const token_key = 'arcane-token-key';\n  const [hasLoggedIn, setHasLoggedIn] = useState(false);\n  const [background, setBackground] = useState(\"\");\n\n  const updateSeeds = (trackArray, newTrack) => {\n    trackArray.push(newTrack);\n    setSeedTracks([...trackArray]);\n  };\n\n  const deleteSeed = (trackArray, trackToBeDeleted) => {\n    trackArray = _.without(trackArray, trackToBeDeleted);\n    setSeedTracks([...trackArray]);\n  };\n\n  const updateRecommendations = (trackArray, newTrack) => {\n    trackArray.push(newTrack);\n    setRecommendations([...trackArray]);\n  };\n\n  const deleteRecommendation = (trackArray, trackToBeDeleted) => {\n    trackArray = _.without(trackArray, trackToBeDeleted);\n    setRecommendations([...trackArray]);\n  };\n\n  const clearRecommendations = trackArray => {\n    let length = recommendations.length;\n\n    for (let i = 0; i < length; i++) {\n      trackArray.pop();\n    }\n\n    setRecommendations([...trackArray]);\n  };\n\n  function checkForToken() {\n    if (Cookies.get(token_key) == undefined || Cookies.get(token_key) == null) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  function updateHasLoggedIn() {\n    if (Cookies.get(token_key) == undefined || Cookies.get(token_key) == null) {\n      setHasLoggedIn(false);\n    } else {\n      setHasLoggedIn(true);\n    }\n  }\n\n  function getHashParams() {\n    var hashParams = {};\n    var e,\n        r = /([^&;=]+)=?([^&;]*)/g,\n        q = window.location.hash.substring(1);\n\n    while (e = r.exec(q)) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n\n    return hashParams;\n  }\n\n  function setCookie() {\n    Cookies.remove(token_key);\n    var params = getHashParams();\n\n    if (params.access_token != null && params.access_token != '') {\n      Cookies.set(token_key, params.access_token, {\n        expires: 3599 / 86400\n      }); //set the cookie to expire after 59 min and 59 sec \n    }\n  }\n\n  function getRandomInt(max) {\n    return Math.floor(Math.random() * max);\n  }\n\n  function generateBackground() {\n    if (background == \"\") {\n      let randomNumber = getRandomInt(40);\n      let backgroundClassname = \"App-background\" + randomNumber.toString();\n      setBackground(backgroundClassname);\n    }\n\n    return background;\n  }\n\n  useEffect(() => {\n    if (!hasLoggedIn) {\n      Cookies.remove(token_key);\n    }\n\n    updateHasLoggedIn();\n    var params = getHashParams();\n    let bool = false;\n\n    if (params.access_token != null && params.access_token != '') {\n      bool = true;\n    }\n\n    if (checkForToken() == false && bool == true) {\n      setCookie();\n    }\n\n    updateHasLoggedIn();\n  }, []);\n\n  const content = /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"App-header2\",\n    children: [/*#__PURE__*/_jsxDEV(Welcome, {\n      hasLoggedIn: hasLoggedIn,\n      setHasLoggedIn: setHasLoggedIn\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"w-11/12\",\n        children: [/*#__PURE__*/_jsxDEV(SearchTrack, {\n          seedTracks: seedTracks,\n          updateSeeds: updateSeeds,\n          hasLoggedIn: hasLoggedIn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(DisplaySeeds, {\n          seedTracks: seedTracks,\n          deleteSeed: deleteSeed\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(DisplayRecommendations, {\n          seedTracks: seedTracks,\n          recommendations: recommendations,\n          updateRecommendations: updateRecommendations,\n          deleteRecommendation: deleteRecommendation,\n          clearRecommendations: clearRecommendations\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CreatePlaylist, {\n          seedTracks: seedTracks,\n          recommendations: recommendations\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: generateBackground(),\n      children: content\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"02arqd24RL/kRUti4fpEXqdQtj4=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/blainehill/Desktop/Arcane/ui/src/App.js"],"names":["React","useEffect","useState","Welcome","SearchTrack","DisplaySeeds","DisplayRecommendations","CreatePlaylist","Cookies","_","require","App","seedTracks","setSeedTracks","recommendations","setRecommendations","token_key","hasLoggedIn","setHasLoggedIn","background","setBackground","updateSeeds","trackArray","newTrack","push","deleteSeed","trackToBeDeleted","without","updateRecommendations","deleteRecommendation","clearRecommendations","length","i","pop","checkForToken","get","undefined","updateHasLoggedIn","getHashParams","hashParams","e","r","q","window","location","hash","substring","exec","decodeURIComponent","setCookie","remove","params","access_token","set","expires","getRandomInt","max","Math","floor","random","generateBackground","randomNumber","backgroundClassname","toString","bool","content"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,sBAAP,MAAmC,0BAAnC;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAO,WAAP;;;AACA,IAAIC,CAAC,GAAGC,OAAO,CAAC,YAAD,CAAf;;AAGA,SAASC,GAAT,GAAe;AAAA;;AAEb,QAAK,CAACC,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAC,EAAD,CAA3C;AACA,QAAK,CAACY,eAAD,EAAkBC,kBAAlB,IAAwCb,QAAQ,CAAC,EAAD,CAArD;AACA,QAAMc,SAAS,GAAG,kBAAlB;AACA,QAAK,CAACC,WAAD,EAAcC,cAAd,IAAgChB,QAAQ,CAAC,KAAD,CAA7C;AACA,QAAK,CAACiB,UAAD,EAAaC,aAAb,IAA8BlB,QAAQ,CAAC,EAAD,CAA3C;;AAGA,QAAMmB,WAAW,GAAG,CAACC,UAAD,EAAaC,QAAb,KAA0B;AAC5CD,IAAAA,UAAU,CAACE,IAAX,CAAgBD,QAAhB;AACAV,IAAAA,aAAa,CAAC,CAAC,GAAGS,UAAJ,CAAD,CAAb;AACD,GAHD;;AAKA,QAAMG,UAAU,GAAG,CAACH,UAAD,EAAaI,gBAAb,KAAkC;AACnDJ,IAAAA,UAAU,GAAGb,CAAC,CAACkB,OAAF,CAAUL,UAAV,EAAsBI,gBAAtB,CAAb;AACAb,IAAAA,aAAa,CAAC,CAAC,GAAGS,UAAJ,CAAD,CAAb;AACD,GAHD;;AAKA,QAAMM,qBAAqB,GAAG,CAACN,UAAD,EAAaC,QAAb,KAA0B;AACtDD,IAAAA,UAAU,CAACE,IAAX,CAAgBD,QAAhB;AACAR,IAAAA,kBAAkB,CAAC,CAAC,GAAGO,UAAJ,CAAD,CAAlB;AACD,GAHD;;AAKA,QAAMO,oBAAoB,GAAG,CAACP,UAAD,EAAaI,gBAAb,KAAkC;AAC7DJ,IAAAA,UAAU,GAAGb,CAAC,CAACkB,OAAF,CAAUL,UAAV,EAAsBI,gBAAtB,CAAb;AACAX,IAAAA,kBAAkB,CAAC,CAAC,GAAGO,UAAJ,CAAD,CAAlB;AACD,GAHD;;AAKA,QAAMQ,oBAAoB,GAAIR,UAAD,IAAgB;AAC3C,QAAIS,MAAM,GAAGjB,eAAe,CAACiB,MAA7B;;AACA,SAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGD,MAAnB,EAA2BC,CAAC,EAA5B,EAA+B;AAC7BV,MAAAA,UAAU,CAACW,GAAX;AACD;;AACDlB,IAAAA,kBAAkB,CAAC,CAAC,GAAGO,UAAJ,CAAD,CAAlB;AACD,GAND;;AAQA,WAASY,aAAT,GAAwB;AACpB,QAAG1B,OAAO,CAAC2B,GAAR,CAAYnB,SAAZ,KAA0BoB,SAA1B,IAAuC5B,OAAO,CAAC2B,GAAR,CAAYnB,SAAZ,KAA0B,IAApE,EAAyE;AACvE,aAAO,KAAP;AACD,KAFD,MAGI;AACF,aAAO,IAAP;AACD;AACJ;;AACD,WAASqB,iBAAT,GAA4B;AAC1B,QAAG7B,OAAO,CAAC2B,GAAR,CAAYnB,SAAZ,KAA0BoB,SAA1B,IAAuC5B,OAAO,CAAC2B,GAAR,CAAYnB,SAAZ,KAA0B,IAApE,EAAyE;AACvEE,MAAAA,cAAc,CAAC,KAAD,CAAd;AACD,KAFD,MAGI;AACFA,MAAAA,cAAc,CAAC,IAAD,CAAd;AACD;AACF;;AAED,WAASoB,aAAT,GAAyB;AACvB,QAAIC,UAAU,GAAG,EAAjB;AACA,QAAIC,CAAJ;AAAA,QAAOC,CAAC,GAAG,sBAAX;AAAA,QACIC,CAAC,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,SAArB,CAA+B,CAA/B,CADR;;AAEA,WAAQN,CAAC,GAAGC,CAAC,CAACM,IAAF,CAAOL,CAAP,CAAZ,EAAuB;AACrBH,MAAAA,UAAU,CAACC,CAAC,CAAC,CAAD,CAAF,CAAV,GAAmBQ,kBAAkB,CAACR,CAAC,CAAC,CAAD,CAAF,CAArC;AACD;;AACD,WAAOD,UAAP;AACD;;AAED,WAASU,SAAT,GAAoB;AAChBzC,IAAAA,OAAO,CAAC0C,MAAR,CAAelC,SAAf;AACA,QAAImC,MAAM,GAAGb,aAAa,EAA1B;;AACA,QAAGa,MAAM,CAACC,YAAP,IAAuB,IAAvB,IAA+BD,MAAM,CAACC,YAAP,IAAuB,EAAzD,EAA4D;AACxD5C,MAAAA,OAAO,CAAC6C,GAAR,CAAYrC,SAAZ,EAAuBmC,MAAM,CAACC,YAA9B,EAA4C;AAAEE,QAAAA,OAAO,EAAE,OAAK;AAAhB,OAA5C,EADwD,CACa;AACxE;AACJ;;AAED,WAASC,YAAT,CAAsBC,GAAtB,EAA2B;AACzB,WAAOC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBH,GAA3B,CAAP;AACD;;AAED,WAASI,kBAAT,GAA6B;AAC3B,QAAGzC,UAAU,IAAI,EAAjB,EAAoB;AAClB,UAAI0C,YAAY,GAAGN,YAAY,CAAC,EAAD,CAA/B;AACA,UAAIO,mBAAmB,GAAG,mBAAmBD,YAAY,CAACE,QAAb,EAA7C;AACA3C,MAAAA,aAAa,CAAC0C,mBAAD,CAAb;AACD;;AACD,WAAO3C,UAAP;AACD;;AAEDlB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAG,CAACgB,WAAJ,EAAgB;AACdT,MAAAA,OAAO,CAAC0C,MAAR,CAAelC,SAAf;AACD;;AACDqB,IAAAA,iBAAiB;AACjB,QAAIc,MAAM,GAAGb,aAAa,EAA1B;AACA,QAAI0B,IAAI,GAAG,KAAX;;AACA,QAAGb,MAAM,CAACC,YAAP,IAAuB,IAAvB,IAA+BD,MAAM,CAACC,YAAP,IAAuB,EAAzD,EAA4D;AAC1DY,MAAAA,IAAI,GAAG,IAAP;AAED;;AACD,QAAG9B,aAAa,MAAM,KAAnB,IAA4B8B,IAAI,IAAI,IAAvC,EAA4C;AAC1Cf,MAAAA,SAAS;AACV;;AACDZ,IAAAA,iBAAiB;AAClB,GAfQ,EAeN,EAfM,CAAT;;AAiBA,QAAM4B,OAAO,gBACX;AAAQ,IAAA,SAAS,EAAC,aAAlB;AAAA,4BACI,QAAC,OAAD;AAAU,MAAA,WAAW,EAAEhD,WAAvB;AAAoC,MAAA,cAAc,EAAEC;AAApD;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAQ,MAAA,SAAS,EAAC,YAAlB;AAAA,6BACE;AAAK,QAAA,KAAK,EAAC,SAAX;AAAA,gCACE,QAAC,WAAD;AAAa,UAAA,UAAU,EAAEN,UAAzB;AAAqC,UAAA,WAAW,EAAES,WAAlD;AAA+D,UAAA,WAAW,EAAEJ;AAA5E;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,YAAD;AAAc,UAAA,UAAU,EAAEL,UAA1B;AAAsC,UAAA,UAAU,EAAEa;AAAlD;AAAA;AAAA;AAAA;AAAA,gBAFF,eAGE,QAAC,sBAAD;AAAwB,UAAA,UAAU,EAAEb,UAApC;AAAgD,UAAA,eAAe,EAAEE,eAAjE;AAAkF,UAAA,qBAAqB,EAAEc,qBAAzG;AAAgI,UAAA,oBAAoB,EAAEC,oBAAtJ;AAA4K,UAAA,oBAAoB,EAAEC;AAAlM;AAAA;AAAA;AAAA;AAAA,gBAHF,eAIE,QAAC,cAAD;AAAgB,UAAA,UAAU,EAAElB,UAA5B;AAAwC,UAAA,eAAe,EAAEE;AAAzD;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;;AAeA,sBAEE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,2BACE;AAAK,MAAA,SAAS,EAAE8C,kBAAkB,EAAlC;AAAA,gBACGK;AADH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UAFF;AASD;;GA9HQtD,G;;KAAAA,G;AAgIT,eAAeA,GAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Welcome from './Welcome';\nimport SearchTrack from './SearchTrack';\nimport DisplaySeeds from './DisplaySeeds';\nimport DisplayRecommendations from './DisplayRecommendations';\nimport CreatePlaylist from './CreatePlaylist'\nimport Cookies from \"js-cookie\";\nimport './App.css'; \nvar _ = require('underscore');\n\n\nfunction App() {\n\n  const[seedTracks, setSeedTracks] = useState([]);\n  const[recommendations, setRecommendations] = useState([]);\n  const token_key = 'arcane-token-key';\n  const[hasLoggedIn, setHasLoggedIn] = useState(false);\n  const[background, setBackground] = useState(\"\");\n\n\n  const updateSeeds = (trackArray, newTrack) => {\n    trackArray.push(newTrack);\n    setSeedTracks([...trackArray]);\n  }\n\n  const deleteSeed = (trackArray, trackToBeDeleted) => {\n    trackArray = _.without(trackArray, trackToBeDeleted);\n    setSeedTracks([...trackArray]);\n  }\n\n  const updateRecommendations = (trackArray, newTrack) => {\n    trackArray.push(newTrack);\n    setRecommendations([...trackArray]);\n  }\n\n  const deleteRecommendation = (trackArray, trackToBeDeleted) => {\n    trackArray = _.without(trackArray, trackToBeDeleted);\n    setRecommendations([...trackArray]);\n  }\n\n  const clearRecommendations = (trackArray) => {\n    let length = recommendations.length;\n    for(let i = 0; i < length; i++){\n      trackArray.pop();\n    }\n    setRecommendations([...trackArray]);\n  }\n\n  function checkForToken(){\n      if(Cookies.get(token_key) == undefined || Cookies.get(token_key) == null){\n        return false;\n      }\n      else{\n        return true;\n      }\n  }\n  function updateHasLoggedIn(){\n    if(Cookies.get(token_key) == undefined || Cookies.get(token_key) == null){\n      setHasLoggedIn(false);\n    }\n    else{\n      setHasLoggedIn(true);\n    }\n  }\n\n  function getHashParams() {\n    var hashParams = {};\n    var e, r = /([^&;=]+)=?([^&;]*)/g,\n        q = window.location.hash.substring(1);\n    while ( e = r.exec(q)) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n    return hashParams;\n  }\n\n  function setCookie(){\n      Cookies.remove(token_key);\n      var params = getHashParams();\n      if(params.access_token != null && params.access_token != ''){\n          Cookies.set(token_key, params.access_token, { expires: 3599/86400 }) //set the cookie to expire after 59 min and 59 sec \n      }\n  }\n\n  function getRandomInt(max) {\n    return Math.floor(Math.random() * max);\n  }\n\n  function generateBackground(){\n    if(background == \"\"){\n      let randomNumber = getRandomInt(40);\n      let backgroundClassname = \"App-background\" + randomNumber.toString();\n      setBackground(backgroundClassname);\n    }\n    return background;\n  }\n\n  useEffect(() => {\n    if(!hasLoggedIn){\n      Cookies.remove(token_key);\n    }\n    updateHasLoggedIn();\n    var params = getHashParams();\n    let bool = false;\n    if(params.access_token != null && params.access_token != ''){\n      bool = true;\n      \n    }\n    if(checkForToken() == false && bool == true){\n      setCookie();\n    }\n    updateHasLoggedIn();\n  }, []);\n  \n  const content = (\n    <header className=\"App-header2\">\n        <Welcome  hasLoggedIn={hasLoggedIn} setHasLoggedIn={setHasLoggedIn}/>\n        <header className=\"App-header\">\n          <div class=\"w-11/12\">\n            <SearchTrack seedTracks={seedTracks} updateSeeds={updateSeeds} hasLoggedIn={hasLoggedIn}/>\n            <DisplaySeeds seedTracks={seedTracks} deleteSeed={deleteSeed}/>\n            <DisplayRecommendations seedTracks={seedTracks} recommendations={recommendations} updateRecommendations={updateRecommendations} deleteRecommendation={deleteRecommendation} clearRecommendations={clearRecommendations}/>\n            <CreatePlaylist seedTracks={seedTracks} recommendations={recommendations}/>\n          </div>\n        </header>\n    </header>\n  );\n\n\n  return (\n\n    <div className=\"App\">\n      <div className={generateBackground()}>\n        {content}\n      </div>\n    </div>\n    \n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}