{"ast":null,"code":"var _jsxFileName = \"/Users/blainehill/Desktop/Arcane/ui/src/DisplayRecommendations.js\";\nimport React from \"react\";\nimport $ from 'jquery';\nimport { Button } from 'react-bootstrap';\nimport Cookies from \"js-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst DisplayRecommendations = ({\n  seedTracks,\n  recommendations,\n  updateRecommendations,\n  deleteRecommendation,\n  clearRecommendations\n}) => {\n  function generateRecommendations(seedTracks, token_key) {\n    let requestData = {\n      limit: \"25\",\n      seed_tracks: seedTracks,\n      token: Cookies.get(token_key)\n    };\n    let url;\n\n    if (process.env.NODE_ENV == \"production\") {\n      url = \"/api/recommendations\";\n    } else {\n      url = \"http://localhost:3001/api/recommendations\";\n    }\n\n    $.ajax({\n      url: url,\n      dataType: 'json',\n      data: requestData,\n      type: \"POST\"\n    }).done(function (data) {\n      if (responseIsSuccess(data)) {\n        if (recommendations.length > 0) {\n          clearRecommendations(recommendations);\n        }\n\n        data.trackResult.tracks.forEach(track => {\n          updateRecommendations(recommendations, track);\n        });\n      }\n    });\n  }\n\n  function responseIsSuccess(data) {\n    let error;\n\n    if (data && data.status) {\n      error = data.status;\n    } else {\n      error = data.status.error.response.status || \"401\";\n    }\n\n    var message = data.message;\n\n    if (error && parseInt(error) == 401) {\n      alert(message);\n      return false;\n    }\n\n    if (error && error >= 400) {\n      alert(message || \"Error: Please try logging in and out again.\");\n      return false;\n    }\n\n    return true;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: seedTracks.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          class: \"bg-gray-800\",\n          variant: \"secondary btn-lg\",\n          onClick: () => generateRecommendations(seedTracks.map(track => track.id), 'arcane-token-key'),\n          children: \"Get Recommendations!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: recommendations.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"mx-8 my-4 px-4 py-4 ring ring-transparent rounded-lg bg-green-700\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            class: \"text-xs sm:text-sm md:text-base lg:text-lg p-2\",\n            children: \"If you're not a fan of a recommendation, select to remove it!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"flex flex-row flex-wrap\",\n            children: recommendations.map(track => {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"container mx-auto w-1/2 lg:w-1/5 md:w-1/3 p-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  class: \"w-full h-full p-4 ring ring-transparent rounded-lg bg-green-800 hover:bg-blue-500 active:bg-indigo-800\",\n                  onClick: () => deleteRecommendation(recommendations, track),\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: track.album.images[0].url,\n                    class: \"object-scale-down\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 82,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    class: \"flex flex-row flex-wrap justify-around\",\n                    children: /*#__PURE__*/_jsxDEV(\"p\", {\n                      class: \"p-1 text-xs sm:text-sm md:text-base lg:text-lg\",\n                      children: [track.name, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 84,\n                        columnNumber: 128\n                      }, this), \" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                        children: [\"by \", track.artists[0].name]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 84,\n                        columnNumber: 135\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 84,\n                      columnNumber: 57\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 83,\n                    columnNumber: 53\n                  }, this)]\n                }, track.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 49\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 45\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n};\n\n_c = DisplayRecommendations;\nexport default DisplayRecommendations;\n\nvar _c;\n\n$RefreshReg$(_c, \"DisplayRecommendations\");","map":{"version":3,"sources":["/Users/blainehill/Desktop/Arcane/ui/src/DisplayRecommendations.js"],"names":["React","$","Button","Cookies","DisplayRecommendations","seedTracks","recommendations","updateRecommendations","deleteRecommendation","clearRecommendations","generateRecommendations","token_key","requestData","limit","seed_tracks","token","get","url","process","env","NODE_ENV","ajax","dataType","data","type","done","responseIsSuccess","length","trackResult","tracks","forEach","track","error","status","response","message","parseInt","alert","map","id","album","images","name","artists"],"mappings":";AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,OAAOC,OAAP,MAAoB,WAApB;;;AAGA,MAAMC,sBAAsB,GAAG,CAAC;AAAEC,EAAAA,UAAF;AAAcC,EAAAA,eAAd;AAA+BC,EAAAA,qBAA/B;AAAsDC,EAAAA,oBAAtD;AAA4EC,EAAAA;AAA5E,CAAD,KAAwG;AAEnI,WAASC,uBAAT,CAAiCL,UAAjC,EAA6CM,SAA7C,EAAwD;AAEpD,QAAIC,WAAW,GAAG;AACdC,MAAAA,KAAK,EAAE,IADO;AAEdC,MAAAA,WAAW,EAAET,UAFC;AAGdU,MAAAA,KAAK,EAAEZ,OAAO,CAACa,GAAR,CAAYL,SAAZ;AAHO,KAAlB;AAMA,QAAIM,GAAJ;;AACA,QAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,IAAwB,YAA5B,EAA0C;AACtCH,MAAAA,GAAG,GAAG,sBAAN;AACH,KAFD,MAEO;AACHA,MAAAA,GAAG,GAAG,2CAAN;AACH;;AAEDhB,IAAAA,CAAC,CAACoB,IAAF,CAAO;AACHJ,MAAAA,GAAG,EAAEA,GADF;AAEHK,MAAAA,QAAQ,EAAG,MAFR;AAGHC,MAAAA,IAAI,EAAEX,WAHH;AAIHY,MAAAA,IAAI,EAAE;AAJH,KAAP,EAKGC,IALH,CAKQ,UAAUF,IAAV,EAAgB;AACpB,UAAIG,iBAAiB,CAACH,IAAD,CAArB,EAA6B;AACzB,YAAGjB,eAAe,CAACqB,MAAhB,GAAyB,CAA5B,EAA8B;AAC1BlB,UAAAA,oBAAoB,CAACH,eAAD,CAApB;AACH;;AACDiB,QAAAA,IAAI,CAACK,WAAL,CAAiBC,MAAjB,CAAwBC,OAAxB,CAAiCC,KAAD,IAAW;AAACxB,UAAAA,qBAAqB,CAACD,eAAD,EAAkByB,KAAlB,CAArB;AAA+C,SAA3F;AACH;AACJ,KAZD;AAaH;;AAED,WAASL,iBAAT,CAA2BH,IAA3B,EAAiC;AAC7B,QAAIS,KAAJ;;AACA,QAAIT,IAAI,IAAIA,IAAI,CAACU,MAAjB,EAAyB;AACrBD,MAAAA,KAAK,GAAGT,IAAI,CAACU,MAAb;AACH,KAFD,MAEO;AACHD,MAAAA,KAAK,GAAGT,IAAI,CAACU,MAAL,CAAYD,KAAZ,CAAkBE,QAAlB,CAA2BD,MAA3B,IAAqC,KAA7C;AACH;;AAED,QAAIE,OAAO,GAAGZ,IAAI,CAACY,OAAnB;;AAEA,QAAIH,KAAK,IAAII,QAAQ,CAACJ,KAAD,CAAR,IAAmB,GAAhC,EAAqC;AACjCK,MAAAA,KAAK,CAACF,OAAD,CAAL;AACA,aAAO,KAAP;AACH;;AACD,QAAIH,KAAK,IAAIA,KAAK,IAAI,GAAtB,EAA2B;AACvBK,MAAAA,KAAK,CAACF,OAAO,IAAI,6CAAZ,CAAL;AACA,aAAO,KAAP;AACH;;AACD,WAAO,IAAP;AACH;;AAED,sBACI;AAAA,cACK9B,UAAU,CAACsB,MAAX,GAAoB,CAApB,iBACG;AAAA,8BACI;AAAA,gCACI;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI,QAAC,MAAD;AAAQ,UAAA,KAAK,EAAC,aAAd;AAA4B,UAAA,OAAO,EAAC,kBAApC;AAAuD,UAAA,OAAO,EAAE,MAAMjB,uBAAuB,CAACL,UAAU,CAACiC,GAAX,CAAgBP,KAAK,IAAIA,KAAK,CAACQ,EAA/B,CAAD,EAAqC,kBAArC,CAA7F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAKI;AAAA;AAAA;AAAA;AAAA,gBALJ,eAMI;AAAA;AAAA;AAAA;AAAA,gBANJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eASI;AAAA,kBACMjC,eAAe,CAACqB,MAAhB,GAAyB,CAAzB,iBACE;AAAK,UAAA,KAAK,EAAC,mEAAX;AAAA,kCACI;AAAG,YAAA,KAAK,EAAC,gDAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEQ;AAAK,YAAA,KAAK,EAAC,yBAAX;AAAA,sBACCrB,eAAe,CAACgC,GAAhB,CAAqBP,KAAD,IAAW;AAC5B,kCACI;AAAK,gBAAA,KAAK,EAAC,+CAAX;AAAA,wCACI;AAAQ,kBAAA,KAAK,EAAC,wGAAd;AAAuI,kBAAA,OAAO,EAAE,MAAMvB,oBAAoB,CAACF,eAAD,EAAkByB,KAAlB,CAA1K;AAAA,0CACI;AAAK,oBAAA,GAAG,EAAEA,KAAK,CAACS,KAAN,CAAYC,MAAZ,CAAmB,CAAnB,EAAsBxB,GAAhC;AAAqC,oBAAA,KAAK,EAAC;AAA3C;AAAA;AAAA;AAAA;AAAA,0BADJ,eAEI;AAAK,oBAAA,KAAK,EAAC,wCAAX;AAAA,2CACI;AAAG,sBAAA,KAAK,EAAC,gDAAT;AAAA,iCAA2Dc,KAAK,CAACW,IAAjE,oBAAuE;AAAA;AAAA;AAAA;AAAA,8BAAvE,oBAA8E;AAAA,0CAAOX,KAAK,CAACY,OAAN,CAAc,CAAd,EAAiBD,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA,8BAA9E;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,0BAFJ;AAAA,mBAA4HX,KAAK,CAACQ,EAAlI;AAAA;AAAA;AAAA;AAAA,wBADJ,eAOI;AAAA;AAAA;AAAA;AAAA,wBAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ;AAWC,aAZJ;AADD;AAAA;AAAA;AAAA;AAAA,kBAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAFR;AAAA;AAAA;AAAA;AAAA,cATJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAFR;AAAA;AAAA;AAAA;AAAA,UADJ;AAuCH,CA5FD;;KAAMnC,sB;AA8FN,eAAeA,sBAAf","sourcesContent":["\nimport React from \"react\";\nimport $ from 'jquery';\nimport { Button } from 'react-bootstrap';\nimport Cookies from \"js-cookie\";\n\n\nconst DisplayRecommendations = ({ seedTracks, recommendations, updateRecommendations, deleteRecommendation, clearRecommendations }) => {\n\n    function generateRecommendations(seedTracks, token_key) {\n        \n        let requestData = {\n            limit: \"25\",\n            seed_tracks: seedTracks,\n            token: Cookies.get(token_key)\n        };\n\n        let url;\n        if (process.env.NODE_ENV == \"production\") {\n            url = \"/api/recommendations\";\n        } else {\n            url = \"http://localhost:3001/api/recommendations\";\n        }\n\n        $.ajax({\n            url: url,\n            dataType : 'json',\n            data: requestData,\n            type: \"POST\"\n        }).done(function (data) {\n            if (responseIsSuccess(data)) {\n                if(recommendations.length > 0){\n                    clearRecommendations(recommendations);\n                }\n                data.trackResult.tracks.forEach((track) => {updateRecommendations(recommendations, track);});\n            }\n        });\n    }\n\n    function responseIsSuccess(data) {\n        let error;\n        if (data && data.status) {\n            error = data.status;\n        } else {\n            error = data.status.error.response.status || \"401\";\n        }\n\n        var message = data.message;\n\n        if (error && parseInt(error) == 401) {\n            alert(message);\n            return false;\n        }\n        if (error && error >= 400) {\n            alert(message || \"Error: Please try logging in and out again.\");\n            return false;\n        }\n        return true;\n    }\n\n    return(\n        <div>\n            {seedTracks.length > 0 &&\n                <div>\n                    <div>\n                        <br />\n                        <Button class=\"bg-gray-800\" variant=\"secondary btn-lg\" onClick={() => generateRecommendations(seedTracks.map( track => track.id), 'arcane-token-key')}>\n                            Get Recommendations!\n                        </Button>\n                        <br />\n                        <br />\n                    </div>\n                    <div>\n                        { recommendations.length > 0 &&\n                            <div class=\"mx-8 my-4 px-4 py-4 ring ring-transparent rounded-lg bg-green-700\">\n                                <p class=\"text-xs sm:text-sm md:text-base lg:text-lg p-2\">If you're not a fan of a recommendation, select to remove it!</p>\n                                    <div class=\"flex flex-row flex-wrap\">\n                                    {recommendations.map((track) => {\n                                        return(\n                                            <div class=\"container mx-auto w-1/2 lg:w-1/5 md:w-1/3 p-3\">\n                                                <button class=\"w-full h-full p-4 ring ring-transparent rounded-lg bg-green-800 hover:bg-blue-500 active:bg-indigo-800\" key={track.id}  onClick={() => deleteRecommendation(recommendations, track)}>\n                                                    <img src={track.album.images[0].url} class=\"object-scale-down\"/>\n                                                    <div class=\"flex flex-row flex-wrap justify-around\">\n                                                        <p class=\"p-1 text-xs sm:text-sm md:text-base lg:text-lg\">{track.name} <br /> <i>by {track.artists[0].name}</i></p>\n                                                    </div>\n                                                </button>\n                                                <br />\n                                            </div>\n                                            );\n                                        })}\n                                    </div>\n                            </div>\n                        }\n                    </div>\n\n                </div>\n            }\n        </div>\n    );\n}\n\nexport default DisplayRecommendations;"]},"metadata":{},"sourceType":"module"}