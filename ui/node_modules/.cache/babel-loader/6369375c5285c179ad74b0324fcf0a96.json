{"ast":null,"code":"var _jsxFileName = \"/Users/blainehill/Desktop/Arcane2/ui/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Welcome from './Welcome';\nimport SearchTrack from './SearchTrack';\nimport DisplaySeeds from './DisplaySeeds';\nimport DisplayRecommendations from './DisplayRecommendations';\nimport CreatePlaylist from './CreatePlaylist';\nimport Cookies from \"js-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _ = require('underscore');\n\nfunction App() {\n  _s();\n\n  const [seedTracks, setSeedTracks] = useState([]);\n  const [recommendations, setRecommendations] = useState([]);\n  const token_key = 'arcane-token-key';\n  const [hasLoggedIn, setHasLoggedIn] = useState(false);\n\n  const updateSeeds = (trackArray, newTrack) => {\n    trackArray.push(newTrack);\n    setSeedTracks([...trackArray]);\n  };\n\n  const deleteSeed = (trackArray, trackToBeDeleted) => {\n    trackArray = _.without(trackArray, trackToBeDeleted);\n    setSeedTracks([...trackArray]);\n  };\n\n  const updateRecommendations = (trackArray, newTrack) => {\n    trackArray.push(newTrack);\n    setRecommendations([...trackArray]);\n  };\n\n  const deleteRecommendation = (trackArray, trackToBeDeleted) => {\n    trackArray = _.without(trackArray, trackToBeDeleted);\n    setRecommendations([...trackArray]);\n  };\n\n  function checkForToken() {\n    if (Cookies.get(token_key) == undefined || Cookies.get(token_key) == null) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  function updateHasLoggedIn() {\n    if (Cookies.get(token_key) == undefined || Cookies.get(token_key) == null) {\n      setHasLoggedIn(false);\n    } else {\n      setHasLoggedIn(true);\n    }\n  }\n\n  function getHashParams() {\n    var hashParams = {};\n    var e,\n        r = /([^&;=]+)=?([^&;]*)/g,\n        q = window.location.hash.substring(1);\n\n    while (e = r.exec(q)) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n\n    return hashParams;\n  }\n\n  function setCookie() {\n    Cookies.remove(token_key);\n    var params = getHashParams();\n\n    if (params.access_token != null && params.access_token != '') {\n      Cookies.set(token_key, params.access_token, {\n        expires: 3599 / 86400\n      }); //set the cookie to expire after 59 min and 59 sec \n    }\n  }\n\n  useEffect(() => {\n    updateHasLoggedIn();\n    var params = getHashParams();\n    let bool = false;\n\n    if (params.access_token != null && params.access_token != '') {\n      bool = true;\n    }\n\n    if (checkForToken() == false && bool == true) {\n      setCookie();\n    }\n\n    updateHasLoggedIn();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"w-11/12\",\n        children: [/*#__PURE__*/_jsxDEV(Welcome, {\n          hasLoggedIn: hasLoggedIn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SearchTrack, {\n          seedTracks: seedTracks,\n          updateSeeds: updateSeeds\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DisplaySeeds, {\n          seedTracks: seedTracks,\n          deleteSeed: deleteSeed\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(DisplayRecommendations, {\n          seedTracks: seedTracks,\n          recommendations: recommendations,\n          updateRecommendations: updateRecommendations,\n          deleteRecommendation: deleteRecommendation\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CreatePlaylist, {\n          seedTracks: seedTracks,\n          recommendations: recommendations\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"CdtaJKupbxdTzKy5GWjW4n4opcM=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/blainehill/Desktop/Arcane2/ui/src/App.js"],"names":["React","useEffect","useState","Welcome","SearchTrack","DisplaySeeds","DisplayRecommendations","CreatePlaylist","Cookies","_","require","App","seedTracks","setSeedTracks","recommendations","setRecommendations","token_key","hasLoggedIn","setHasLoggedIn","updateSeeds","trackArray","newTrack","push","deleteSeed","trackToBeDeleted","without","updateRecommendations","deleteRecommendation","checkForToken","get","undefined","updateHasLoggedIn","getHashParams","hashParams","e","r","q","window","location","hash","substring","exec","decodeURIComponent","setCookie","remove","params","access_token","set","expires","bool"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Welcome from './Welcome';\nimport SearchTrack from './SearchTrack';\nimport DisplaySeeds from './DisplaySeeds';\nimport DisplayRecommendations from './DisplayRecommendations';\nimport CreatePlaylist from './CreatePlaylist'\nimport Cookies from \"js-cookie\";\nvar _ = require('underscore');\n\n\n\n\nfunction App() {\n\n  const[seedTracks, setSeedTracks] = useState([]);\n  const[recommendations, setRecommendations] = useState([]);\n  const token_key = 'arcane-token-key';\n  const[hasLoggedIn, setHasLoggedIn] = useState(false);\n\n  const updateSeeds = (trackArray, newTrack) => {\n    trackArray.push(newTrack);\n    setSeedTracks([...trackArray]);\n  }\n\n  const deleteSeed = (trackArray, trackToBeDeleted) => {\n    trackArray = _.without(trackArray, trackToBeDeleted);\n    setSeedTracks([...trackArray]);\n  }\n\n  const updateRecommendations = (trackArray, newTrack) => {\n    trackArray.push(newTrack);\n    setRecommendations([...trackArray]);\n  }\n\n  const deleteRecommendation = (trackArray, trackToBeDeleted) => {\n    trackArray = _.without(trackArray, trackToBeDeleted);\n    setRecommendations([...trackArray]);\n  }\n\n  function checkForToken(){\n      if(Cookies.get(token_key) == undefined || Cookies.get(token_key) == null){\n        return false;\n      }\n      else{\n        return true;\n      }\n  }\n  function updateHasLoggedIn(){\n    if(Cookies.get(token_key) == undefined || Cookies.get(token_key) == null){\n      setHasLoggedIn(false);\n    }\n    else{\n      setHasLoggedIn(true);\n    }\n  }\n\n  function getHashParams() {\n    var hashParams = {};\n    var e, r = /([^&;=]+)=?([^&;]*)/g,\n        q = window.location.hash.substring(1);\n    while ( e = r.exec(q)) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n    return hashParams;\n}\n\nfunction setCookie(){\n    Cookies.remove(token_key);\n    var params = getHashParams();\n    if(params.access_token != null && params.access_token != ''){\n        Cookies.set(token_key, params.access_token, { expires: 3599/86400 }) //set the cookie to expire after 59 min and 59 sec \n    }\n}\n\n  useEffect(() => {\n    updateHasLoggedIn();\n    var params = getHashParams();\n    let bool = false;\n    if(params.access_token != null && params.access_token != ''){\n      bool = true;\n      \n    }\n    if(checkForToken() == false && bool == true){\n      setCookie();\n    }\n    updateHasLoggedIn();\n  }, []);\n  \n\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <div class=\"w-11/12\">\n          <Welcome  hasLoggedIn={hasLoggedIn}/>\n          <SearchTrack seedTracks={seedTracks} updateSeeds={updateSeeds} />\n          <DisplaySeeds seedTracks={seedTracks} deleteSeed={deleteSeed}/>\n          <DisplayRecommendations seedTracks={seedTracks} recommendations={recommendations} updateRecommendations={updateRecommendations} deleteRecommendation={deleteRecommendation}/>\n          <CreatePlaylist seedTracks={seedTracks} recommendations={recommendations}/>\n        </div>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}