{"ast":null,"code":"var _jsxFileName = \"/Users/blainehill/Desktop/Arcane/ui/src/CreatePlaylist.js\";\nimport React from \"react\";\nimport $ from 'jquery';\nimport { Button } from 'react-bootstrap';\nimport Cookies from \"js-cookie\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CreatePlaylist = ({\n  seedTracks,\n  recommendations\n}) => {\n  function generatePlaylist(seedTrack_names, recommendation_ids, token_key) {\n    let requestData = {\n      seedTrack_names: seedTrack_names,\n      token: Cookies.get(token_key)\n    };\n    $.ajax({\n      url: \"/api/createPlaylist\",\n      dataType: 'json',\n      data: requestData,\n      type: \"GET\"\n    }).done(function (response) {\n      if (responseIsSuccess(response)) {\n        let requestData2 = {\n          recommendation_ids: recommendation_ids,\n          playlist_id: response.data,\n          token: Cookies.get(token_key)\n        };\n        $.ajax({\n          url: \"/api/addTracks\",\n          dataType: 'json',\n          data: requestData2,\n          type: \"GET\"\n        }).done(function (response2) {\n          alert(\"Check out Spotify for your new Arcane Mix!\");\n        });\n      }\n    });\n  }\n\n  function responseIsSuccess(data) {\n    var error;\n\n    if (data && data.status.error == null) {\n      error = data.status;\n    } else {\n      error = data.status.error.response.status || \"401\";\n    }\n\n    var msg = data.message; // if unauthorized we need to prompt log in\n\n    if (error && parseInt(error) == 401) {\n      alert(msg);\n      return false;\n    }\n\n    if (error && error >= 400) {\n      console.log(msg);\n      alert(msg || \"Error: Please try logging in and out again.\");\n      return false;\n    }\n\n    return true;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: recommendations.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        class: \"bg-gray-800\",\n        variant: \"secondary btn-lg\",\n        onClick: () => generatePlaylist(seedTracks.map(track => track.artists[0].name), recommendations.map(track => track.id), 'arcane-token-key'),\n        children: \"Create Playlist!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n};\n\n_c = CreatePlaylist;\nexport default CreatePlaylist;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreatePlaylist\");","map":{"version":3,"sources":["/Users/blainehill/Desktop/Arcane/ui/src/CreatePlaylist.js"],"names":["React","$","Button","Cookies","CreatePlaylist","seedTracks","recommendations","generatePlaylist","seedTrack_names","recommendation_ids","token_key","requestData","token","get","ajax","url","dataType","data","type","done","response","responseIsSuccess","requestData2","playlist_id","response2","alert","error","status","msg","message","parseInt","console","log","length","map","track","artists","name","id"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport $ from 'jquery';\nimport { Button } from 'react-bootstrap';\nimport Cookies from \"js-cookie\";\n\n\nconst CreatePlaylist= ({ seedTracks, recommendations }) => {\n\n    function generatePlaylist(seedTrack_names, recommendation_ids, token_key) {\n        \n        let requestData = {\n            seedTrack_names: seedTrack_names,\n            token: Cookies.get(token_key)\n        };\n\n        $.ajax({\n            url: \"/api/createPlaylist\",\n            dataType : 'json',\n            data: requestData,\n            type: \"GET\"\n        }).done(function (response) {\n            if (responseIsSuccess(response)) {\n\n                let requestData2 ={\n                    recommendation_ids: recommendation_ids,\n                    playlist_id: response.data,\n                    token: Cookies.get(token_key)\n                }\n\n                $.ajax({\n                    url: \"/api/addTracks\",\n                    dataType : 'json',\n                    data: requestData2,\n                    type: \"GET\"\n                }).done(function(response2){\n                    alert(\"Check out Spotify for your new Arcane Mix!\");\n                })\n            }\n        });\n    }\n\n\n    function responseIsSuccess(data) {\n        var error;\n        if (data && data.status.error == null) {\n            error = data.status;\n        } else {\n            error = data.status.error.response.status || \"401\";\n        }\n\n        var msg = data.message;\n        // if unauthorized we need to prompt log in\n        if (error && parseInt(error) == 401) {\n            alert(msg);\n            return false;\n        }\n        if (error && error >= 400) {\n            console.log(msg);\n            alert(msg || \"Error: Please try logging in and out again.\");\n            return false;\n        }\n        return true;\n    }\n\n\n\n    return(\n        <div>\n            { recommendations.length > 0 &&\n            <div>\n                <br />\n                <Button class=\"bg-gray-800\" variant=\"secondary btn-lg\" onClick={() => generatePlaylist(seedTracks.map( track => track.artists[0].name), recommendations.map( track => track.id), 'arcane-token-key')}>\n                    Create Playlist!\n                </Button>\n                <br />\n                <br />\n            </div>\n            }       \n        </div>\n        );\n}\n\nexport default CreatePlaylist;"]},"metadata":{},"sourceType":"module"}