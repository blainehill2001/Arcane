[{"/Users/blainehill/Desktop/Arcane/ui/src/index.js":"1","/Users/blainehill/Desktop/Arcane/ui/src/App.js":"2","/Users/blainehill/Desktop/Arcane/ui/src/Welcome.js":"3","/Users/blainehill/Desktop/Arcane/ui/src/DisplaySeeds.js":"4","/Users/blainehill/Desktop/Arcane/ui/src/SearchTrack.js":"5","/Users/blainehill/Desktop/Arcane/ui/src/DisplayRecommendations.js":"6","/Users/blainehill/Desktop/Arcane/ui/src/CreatePlaylist.js":"7"},{"size":335,"mtime":1621383674102,"results":"8","hashOfConfig":"9"},{"size":4054,"mtime":1621383825877,"results":"10","hashOfConfig":"9"},{"size":3254,"mtime":1621383451798,"results":"11","hashOfConfig":"9"},{"size":2488,"mtime":1621383398228,"results":"12","hashOfConfig":"9"},{"size":4617,"mtime":1621452532292,"results":"13","hashOfConfig":"9"},{"size":3652,"mtime":1621383300790,"results":"14","hashOfConfig":"9"},{"size":2726,"mtime":1621383299783,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"hybr8h",{"filePath":"19","messages":"20","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"18"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24","usedDeprecatedRules":"18"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"18"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"30","messages":"31","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"18"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"18"},"/Users/blainehill/Desktop/Arcane/ui/src/index.js",[],["36","37"],"/Users/blainehill/Desktop/Arcane/ui/src/App.js",["38","39","40","41","42","43","44","45","46"],"import React, { useEffect, useState } from \"react\";\nimport Welcome from './Welcome';\nimport SearchTrack from './SearchTrack';\nimport DisplaySeeds from './DisplaySeeds';\nimport DisplayRecommendations from './DisplayRecommendations';\nimport CreatePlaylist from './CreatePlaylist'\nimport Cookies from \"js-cookie\";\nimport './App.css'; \nvar _ = require('underscore');\n\n\nfunction App() {\n\n  const[seedTracks, setSeedTracks] = useState([]);\n  const[recommendations, setRecommendations] = useState([]);\n  const token_key = 'arcane-token-key';\n  const[hasLoggedIn, setHasLoggedIn] = useState(false);\n  const[background, setBackground] = useState(\"\");\n\n\n  const updateSeeds = (trackArray, newTrack) => {\n    trackArray.push(newTrack);\n    setSeedTracks([...trackArray]);\n  }\n\n  const deleteSeed = (trackArray, trackToBeDeleted) => {\n    trackArray = _.without(trackArray, trackToBeDeleted);\n    setSeedTracks([...trackArray]);\n  }\n\n  const updateRecommendations = (trackArray, newTrack) => {\n    trackArray.push(newTrack);\n    setRecommendations([...trackArray]);\n  }\n\n  const deleteRecommendation = (trackArray, trackToBeDeleted) => {\n    trackArray = _.without(trackArray, trackToBeDeleted);\n    setRecommendations([...trackArray]);\n  }\n\n  const clearRecommendations = (trackArray) => {\n    let length = recommendations.length;\n    for(let i = 0; i < length; i++){\n      trackArray.pop();\n    }\n    setRecommendations([...trackArray]);\n  }\n\n  function checkForToken(){\n      if(Cookies.get(token_key) == undefined || Cookies.get(token_key) == null){\n        return false;\n      }\n      else{\n        return true;\n      }\n  }\n  function updateHasLoggedIn(){\n    if(Cookies.get(token_key) == undefined || Cookies.get(token_key) == null){\n      setHasLoggedIn(false);\n    }\n    else{\n      setHasLoggedIn(true);\n    }\n  }\n\n  function getHashParams() {\n    var hashParams = {};\n    var e, r = /([^&;=]+)=?([^&;]*)/g,\n        q = window.location.hash.substring(1);\n    while ( e = r.exec(q)) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n    return hashParams;\n  }\n\n  function setCookie(){\n      Cookies.remove(token_key);\n      var params = getHashParams();\n      if(params.access_token != null && params.access_token != ''){\n          Cookies.set(token_key, params.access_token, { expires: 3599/86400 }) //set the cookie to expire after 59 min and 59 sec \n      }\n  }\n\n  function getRandomInt(max) {\n    return Math.floor(Math.random() * max);\n  }\n\n  function generateBackground(){\n    if(background == \"\"){\n      let randomNumber = getRandomInt(40);\n      let backgroundClassname = \"App-background\" + randomNumber.toString();\n      setBackground(backgroundClassname);\n    }\n    return background;\n  }\n\n  useEffect(() => {\n    if(!hasLoggedIn){\n      Cookies.remove(token_key);\n    }\n    updateHasLoggedIn();\n    var params = getHashParams();\n    let bool = false;\n    if(params.access_token != null && params.access_token != ''){\n      bool = true;\n      \n    }\n    if(checkForToken() == false && bool == true){\n      setCookie();\n    }\n    updateHasLoggedIn();\n  }, []);\n  \n  const content = (\n    <header className=\"App-header2\">\n        <Welcome  hasLoggedIn={hasLoggedIn} setHasLoggedIn={setHasLoggedIn}/>\n        <header className=\"App-header\">\n          <div class=\"w-11/12\">\n            <SearchTrack seedTracks={seedTracks} updateSeeds={updateSeeds} hasLoggedIn={hasLoggedIn}/>\n            <DisplaySeeds seedTracks={seedTracks} deleteSeed={deleteSeed}/>\n            <DisplayRecommendations seedTracks={seedTracks} recommendations={recommendations} updateRecommendations={updateRecommendations} deleteRecommendation={deleteRecommendation} clearRecommendations={clearRecommendations}/>\n            <CreatePlaylist seedTracks={seedTracks} recommendations={recommendations}/>\n          </div>\n        </header>\n    </header>\n  );\n\n\n  return (\n\n    <div className=\"App\">\n      <div className={generateBackground()}>\n        <div class=\"overscroll-contain\">\n          {content}\n        </div>\n      </div>\n    </div>\n    \n  );\n}\n\nexport default App;\n","/Users/blainehill/Desktop/Arcane/ui/src/Welcome.js",["47","48","49","50","51"],"import React from \"react\";\nimport { Button } from 'react-bootstrap';\nimport Cookies from \"js-cookie\";\nimport music_note from \"./assets/music.png\"\nimport github_logo from \"./assets/github.svg\";\n\n\nfunction Welcome({ hasLoggedIn, setHasLoggedIn }){\n\n    const token_key = 'arcane-token-key';\n\n    let url;\n    if (process.env.NODE_ENV == \"production\") {\n        url = \"/api/login\";\n    } else {\n        url = \"http://localhost:3001/api/login\";\n    }\n\n    let url2;\n    if (process.env.NODE_ENV == \"production\") {\n        url2 = \"http://arcane-spotify.herokuapp.com/\";\n    } else {\n        url2 = \"http://localhost:3000/\";\n    }\n\n    function logout(){\n        Cookies.remove(token_key);\n        Cookies.remove('spotify_auth_state');\n        setHasLoggedIn(false);\n    }\n    \n    return(\n        <div>\n            <div class=\"flex flex-wrap flex-1 justify-between flex-row ring ring-transparent p-3\">\n                <a href={url2}>\n                    <img src={music_note}/>\n                </a>\n                <a href = \"https://github.com/blainehill2001/Arcane\" class=\"my-auto\">\n                    <img src={github_logo}/>\n                </a>\n            </div>\n            \n            { hasLoggedIn ?\n                <div>\n                        <div class=\"flex flex-column justify-center items-center\">\n                            <div class=\"mx-auto px-3 py-3 ring ring-transparent rounded-lg bg-green-700\">\n                                <Button class=\"bg-gray-800\" variant=\"secondary btn-lg\" onClick={logout}>\n                                    <a href={url2}>\n                                        Log out of Spotify\n                                    </a>\n                                </Button>\n                            </div>\n                        </div>\n                </div>\n                :\n                <div class=\"flex flex-column justify-center items-center\">\n                    <div class=\"mx-10 sm:mx-20 md:mx-30 lg:mx-40 px-3 py-3 ring ring-transparent rounded-lg bg-green-700\">\n                        <h2>Welcome to Arcane!</h2>\n                        <p class=\"p-3 text-xs sm:text-sm md:text-base\">\n                        Here's how it works: login with your Spotify account. Then, select up to five of your favorite songs to be the seeds for your curated mix. Then plug in some headphones and enjoy your own Arcane experience!\n                        </p>\n                        <a href={url}>\n                                <Button class=\"bg-gray-800\" variant=\"secondary btn-lg\">\n                                    Log in with Spotify!\n                                </Button>\n                        </a>\n                        <div class=\"py-3 px-5 flex flex-row flex-auto flex-wrap justify-between text-super-duper-small sm:text-super-small md:text-xs lg:text-sm\">\n                            <a href=\"https://icons8.com/\">Icons by Icons8</a>\n                            <a>By using this app, you consent to cookie usage to generate awesome music!</a>\n                            <a href=\"https://www.heropatterns.com/\">Backgrounds by Hero Patterns</a>\n                        </div>\n                    </div>\n                </div>\n            }\n        </div>\n    );\n}\n\n\nexport default Welcome;","/Users/blainehill/Desktop/Arcane/ui/src/DisplaySeeds.js",["52","53"],"import React from \"react\";\n\nconst DisplaySeeds = ({ seedTracks, deleteSeed }) => {\n    \n    return(\n        <div>\n            {seedTracks.length > 0 &&\n                <div class=\"mx-8 my-20 px-4 py-4 ring ring-transparent rounded-lg bg-green-700\">\n                    <h2>Your Seeds are:</h2>\n                    <div class=\"flex flex-row flex-wrap\">\n                        {seedTracks.map((seedTrack) => {\n                            return(\n                                <div class=\"container mx-auto w-1/2 lg:w-1/5 md:w-1/3 p-3 h-full\" key={seedTrack.id} id=\"heightgrabber\">\n                                    <button name={seedTrack.name} class=\"object-cover w-full h-full p-4 ring ring-transparent rounded-lg bg-green-800 hover:bg-blue-500 active:bg-indigo-800\" onClick={() => deleteSeed(seedTracks, seedTrack)}>\n                                        <div class=\"flex flex-row flex-wrap justify-around\">\n                                            <img src={seedTrack.album.images[0].url} />\n                                            <p class=\"p-1 text-xs sm:text-sm md:text-base lg:text-lg\">{seedTrack.name} <br /> <i>by {seedTrack.artists[0].name}</i></p>\n                                        </div>\n                                    </button>\n                                </div>\n                            );\n                            })}\n                            {[...Array(5-(seedTracks.length || 0))].map((i) =>{\n                                return(\n                                    <div class=\"container mx-auto w-1/2 lg:w-1/5 md:w-1/3 p-3\" key={i}>\n                                        <div class=\"object-cover w-full h-full p-4 ring ring-transparent rounded-lg min-h:full bg-green-800\">\n                                            <div class=\"flex flex-row flex-wrap justify-around\">\n                                                <img class=\"opacity-0\" src={seedTracks[0].album.images[0].url} />\n                                                <p class=\"p-1 text-green-800 text-xs sm:text-sm md:text-base lg:text-lg\">{seedTracks[0].name} <br /> <i>by {seedTracks[0].artists[0].name}</i></p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                );\n                            })\n                        }\n                    </div>\n                </div>\n            }\n        </div>\n    );\n}\nexport default DisplaySeeds;","/Users/blainehill/Desktop/Arcane/ui/src/SearchTrack.js",["54","55","56","57","58","59","60"],"/Users/blainehill/Desktop/Arcane/ui/src/DisplayRecommendations.js",["61","62","63"],"\nimport React from \"react\";\nimport $ from 'jquery';\nimport { Button } from 'react-bootstrap';\nimport Cookies from \"js-cookie\";\n\n\nconst DisplayRecommendations = ({ seedTracks, recommendations, updateRecommendations, deleteRecommendation, clearRecommendations }) => {\n\n    function generateRecommendations(seedTracks, token_key) {\n        \n        let requestData = {\n            limit: \"25\",\n            seed_tracks: seedTracks,\n            token: Cookies.get(token_key)\n        };\n\n        let url;\n        if (process.env.NODE_ENV == \"production\") {\n            url = \"/api/recommendations\";\n        } else {\n            url = \"http://localhost:3001/api/recommendations\";\n        }\n\n        $.ajax({\n            url: url,\n            dataType : 'json',\n            data: requestData,\n            type: \"POST\"\n        }).done(function (data) {\n            if (responseIsSuccess(data)) {\n                if(recommendations.length > 0){\n                    clearRecommendations(recommendations);\n                }\n                data.trackResult.tracks.forEach((track) => {updateRecommendations(recommendations, track);});\n            }\n        });\n    }\n\n    function responseIsSuccess(data) {\n        let error;\n        if (data && data.status) {\n            error = data.status;\n        } else {\n            error = data.status.error.response.status || \"401\";\n        }\n\n        var message = data.message;\n\n        if (error && parseInt(error) == 401) {\n            alert(message);\n            return false;\n        }\n        if (error && error >= 400) {\n            alert(message || \"Error: Please try logging in and out again.\");\n            return false;\n        }\n        return true;\n    }\n\n    return(\n        <div>\n            {seedTracks.length > 0 &&\n                <div>\n                    <div>\n                        <br />\n                        <Button class=\"bg-gray-800\" variant=\"secondary btn-lg\" onClick={() => generateRecommendations(seedTracks.map( track => track.id), 'arcane-token-key')}>\n                            Get Recommendations!\n                        </Button>\n                        <br />\n                        <br />\n                    </div>\n                    <div>\n                        { recommendations.length > 0 &&\n                            <div class=\"flex flex-row flex-wrap mx-8 my-4 px-4 py-4 ring ring-transparent rounded-lg bg-green-700\">\n                            {recommendations.map((track) => {\n                                return(\n                                    <div class=\"container mx-auto w-1/2 lg:w-1/5 md:w-1/3 p-3\">\n                                        <button class=\"object-cover w-full h-full p-4 ring ring-transparent rounded-lg bg-green-800 hover:bg-blue-500 active:bg-indigo-800\" key={track.id}  onClick={() => deleteRecommendation(recommendations, track)}>\n                                            <div class=\"flex flex-row flex-wrap justify-around\">\n                                                <img src={track.album.images[0].url} />\n                                                <p class=\"p-1 text-xs sm:text-sm md:text-base lg:text-lg\">{track.name} <br /> <i>by {track.artists[0].name}</i></p>\n                                            </div>\n                                        </button>\n                                        <br />\n                                    </div>\n                                    );\n                                })}\n                        </div>\n                        }\n                    </div>\n\n                </div>\n            }\n        </div>\n    );\n}\n\nexport default DisplayRecommendations;","/Users/blainehill/Desktop/Arcane/ui/src/CreatePlaylist.js",["64","65","66"],"import React from \"react\";\nimport $ from 'jquery';\nimport { Button } from 'react-bootstrap';\nimport Cookies from \"js-cookie\";\n\n\nconst CreatePlaylist= ({ seedTracks, recommendations }) => {\n\n    function generatePlaylist(seedTrack_names, recommendation_ids, token_key) {\n        \n        let requestData = {\n            seedTrack_names: seedTrack_names,\n            token: Cookies.get(token_key)\n        };\n\n        let url;\n        if (process.env.NODE_ENV == \"production\") {\n            url = \"/api/createPlaylist\";\n        } else {\n            url = \"http://localhost:3001/api/createPlaylist\";\n        }\n\n        $.ajax({\n            url: url,\n            dataType : 'json',\n            data: requestData,\n            type: \"GET\"\n        }).done(function (response) {\n            if (responseIsSuccess(response)) {\n\n                let url2;\n                if (process.env.NODE_ENV == \"production\") {\n                    url2 = \"/api/addTracks\";\n                } else {\n                    url2 = \"http://localhost:3001/api/addTracks\";\n                }\n\n\n                let requestData2 ={\n                    recommendation_ids: recommendation_ids,\n                    playlist_id: response.data,\n                    token: Cookies.get(token_key)\n                }\n                console.log(response.data);\n\n                $.ajax({\n                    url: url2,\n                    dataType : 'json',\n                    data: requestData2,\n                    type: \"GET\"\n                }).done(function(){\n                    alert(\"Check out Spotify for your new Arcane Mix!\");\n                })\n            }\n        });\n    }\n\n\n    function responseIsSuccess(data) {\n        let error;\n        if (data && data.status) {\n            error = data.status;\n        } else {\n            error = data.status.error.response.status || \"401\";\n        }\n\n        var message = data.message;\n\n        if (error && parseInt(error) == 401) {\n            alert(message);\n            return false;\n        }\n        if (error && error >= 400) {\n            alert(message || \"Error: Please try logging in and out again.\");\n            return false;\n        }\n        return true;\n    }\n\n\n\n    return(\n        <div>\n            { recommendations.length > 0 &&\n            <div>\n                <br />\n                <Button class=\"bg-gray-800\" variant=\"secondary btn-lg\" onClick={() => generatePlaylist(seedTracks.map( track => track.artists[0].name), recommendations.map( track => track.id), 'arcane-token-key')}>\n                    Create Playlist!\n                </Button>\n                <br />\n                <br />\n            </div>\n            }       \n        </div>\n        );\n}\n\nexport default CreatePlaylist;",{"ruleId":"67","replacedBy":"68"},{"ruleId":"69","replacedBy":"70"},{"ruleId":"71","severity":1,"message":"72","line":50,"column":33,"nodeType":"73","messageId":"74","endLine":50,"endColumn":35},{"ruleId":"71","severity":1,"message":"72","line":58,"column":31,"nodeType":"73","messageId":"74","endLine":58,"endColumn":33},{"ruleId":"75","severity":1,"message":"76","line":70,"column":13,"nodeType":"77","messageId":"78","endLine":70,"endColumn":26},{"ruleId":"71","severity":1,"message":"79","line":79,"column":61,"nodeType":"73","messageId":"74","endLine":79,"endColumn":63},{"ruleId":"71","severity":1,"message":"72","line":89,"column":19,"nodeType":"73","messageId":"74","endLine":89,"endColumn":21},{"ruleId":"71","severity":1,"message":"79","line":104,"column":59,"nodeType":"73","messageId":"74","endLine":104,"endColumn":61},{"ruleId":"71","severity":1,"message":"72","line":108,"column":24,"nodeType":"73","messageId":"74","endLine":108,"endColumn":26},{"ruleId":"71","severity":1,"message":"72","line":108,"column":41,"nodeType":"73","messageId":"74","endLine":108,"endColumn":43},{"ruleId":"80","severity":1,"message":"81","line":112,"column":6,"nodeType":"82","endLine":112,"endColumn":8,"suggestions":"83"},{"ruleId":"71","severity":1,"message":"72","line":13,"column":30,"nodeType":"73","messageId":"74","endLine":13,"endColumn":32},{"ruleId":"71","severity":1,"message":"72","line":20,"column":30,"nodeType":"73","messageId":"74","endLine":20,"endColumn":32},{"ruleId":"84","severity":1,"message":"85","line":36,"column":21,"nodeType":"86","endLine":36,"endColumn":44},{"ruleId":"84","severity":1,"message":"85","line":39,"column":21,"nodeType":"86","endLine":39,"endColumn":45},{"ruleId":"87","severity":1,"message":"88","line":69,"column":29,"nodeType":"86","endLine":69,"endColumn":32},{"ruleId":"84","severity":1,"message":"85","line":16,"column":45,"nodeType":"86","endLine":16,"endColumn":88},{"ruleId":"84","severity":1,"message":"85","line":28,"column":49,"nodeType":"86","endLine":28,"endColumn":114},{"ruleId":"71","severity":1,"message":"72","line":28,"column":34,"nodeType":"73","messageId":"74","endLine":28,"endColumn":36},{"ruleId":"71","severity":1,"message":"72","line":59,"column":38,"nodeType":"73","messageId":"74","endLine":59,"endColumn":40},{"ruleId":"71","severity":1,"message":"72","line":72,"column":60,"nodeType":"73","messageId":"74","endLine":72,"endColumn":62},{"ruleId":"71","severity":1,"message":"72","line":75,"column":49,"nodeType":"73","messageId":"74","endLine":75,"endColumn":51},{"ruleId":"71","severity":1,"message":"72","line":85,"column":26,"nodeType":"73","messageId":"74","endLine":85,"endColumn":28},{"ruleId":"71","severity":1,"message":"72","line":102,"column":31,"nodeType":"73","messageId":"74","endLine":102,"endColumn":33},{"ruleId":"84","severity":1,"message":"85","line":109,"column":49,"nodeType":"86","endLine":109,"endColumn":110},{"ruleId":"71","severity":1,"message":"72","line":19,"column":34,"nodeType":"73","messageId":"74","endLine":19,"endColumn":36},{"ruleId":"71","severity":1,"message":"72","line":50,"column":38,"nodeType":"73","messageId":"74","endLine":50,"endColumn":40},{"ruleId":"84","severity":1,"message":"85","line":81,"column":49,"nodeType":"86","endLine":81,"endColumn":88},{"ruleId":"71","severity":1,"message":"72","line":17,"column":34,"nodeType":"73","messageId":"74","endLine":17,"endColumn":36},{"ruleId":"71","severity":1,"message":"72","line":32,"column":42,"nodeType":"73","messageId":"74","endLine":32,"endColumn":44},{"ruleId":"71","severity":1,"message":"72","line":69,"column":38,"nodeType":"73","messageId":"74","endLine":69,"endColumn":40},"no-native-reassign",["89"],"no-negated-in-lhs",["90"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-cond-assign","Expected a conditional expression and instead saw an assignment.","AssignmentExpression","missing","Expected '!==' and instead saw '!='.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'hasLoggedIn' and 'setCookie'. Either include them or remove the dependency array.","ArrayExpression",["91"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","no-global-assign","no-unsafe-negation",{"desc":"92","fix":"93"},"Update the dependencies array to be: [hasLoggedIn, setCookie]",{"range":"94","text":"95"},[3070,3072],"[hasLoggedIn, setCookie]"]