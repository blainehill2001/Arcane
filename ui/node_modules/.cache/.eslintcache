[{"/Users/blainehill/Desktop/Arcane2/ui/src/index.js":"1","/Users/blainehill/Desktop/Arcane2/ui/src/App.js":"2","/Users/blainehill/Desktop/Arcane2/ui/src/CreatePlaylist.js":"3","/Users/blainehill/Desktop/Arcane2/ui/src/Welcome.js":"4","/Users/blainehill/Desktop/Arcane2/ui/src/DisplaySeeds.js":"5","/Users/blainehill/Desktop/Arcane2/ui/src/SearchTrack.js":"6","/Users/blainehill/Desktop/Arcane2/ui/src/DisplayRecommendations.js":"7"},{"size":391,"mtime":1620450645756,"results":"8","hashOfConfig":"9"},{"size":3038,"mtime":1620450582911,"results":"10","hashOfConfig":"9"},{"size":2362,"mtime":1620450845950,"results":"11","hashOfConfig":"9"},{"size":2068,"mtime":1620450780690,"results":"12","hashOfConfig":"9"},{"size":1646,"mtime":1620450813844,"results":"13","hashOfConfig":"9"},{"size":3779,"mtime":1620451628787,"results":"14","hashOfConfig":"9"},{"size":3116,"mtime":1620450829833,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"18"},"joe0vs",{"filePath":"19","messages":"20","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36"},"/Users/blainehill/Desktop/Arcane2/ui/src/index.js",["37","38"],"import 'bootstrap/dist/css/bootstrap.min.css';\nimport $ from 'jquery';\nimport Popper from 'popper.js';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './App.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","/Users/blainehill/Desktop/Arcane2/ui/src/App.js",["39","40","41","42","43","44","45","46"],"import React, { useEffect, useState } from \"react\";\nimport Welcome from './Welcome';\nimport SearchTrack from './SearchTrack';\nimport DisplaySeeds from './DisplaySeeds';\nimport DisplayRecommendations from './DisplayRecommendations';\nimport CreatePlaylist from './CreatePlaylist'\nimport Cookies from \"js-cookie\";\nvar _ = require('underscore');\n\n\n\n\nfunction App() {\n\n  const[seedTracks, setSeedTracks] = useState([]);\n  const[recommendations, setRecommendations] = useState([]);\n  const token_key = 'arcane-token-key';\n  const[hasLoggedIn, setHasLoggedIn] = useState(false);\n\n  const updateSeeds = (trackArray, newTrack) => {\n    trackArray.push(newTrack);\n    setSeedTracks([...trackArray]);\n  }\n\n  const deleteSeed = (trackArray, trackToBeDeleted) => {\n    trackArray = _.without(trackArray, trackToBeDeleted);\n    setSeedTracks([...trackArray]);\n  }\n\n  const updateRecommendations = (trackArray, newTrack) => {\n    trackArray.push(newTrack);\n    setRecommendations([...trackArray]);\n  }\n\n  const deleteRecommendation = (trackArray, trackToBeDeleted) => {\n    trackArray = _.without(trackArray, trackToBeDeleted);\n    setRecommendations([...trackArray]);\n  }\n\n  function checkForToken(){\n      if(Cookies.get(token_key) == undefined || Cookies.get(token_key) == null){\n        return false;\n      }\n      else{\n        return true;\n      }\n  }\n  function updateHasLoggedIn(){\n    if(Cookies.get(token_key) == undefined || Cookies.get(token_key) == null){\n      setHasLoggedIn(false);\n    }\n    else{\n      setHasLoggedIn(true);\n    }\n  }\n\n  function getHashParams() {\n    var hashParams = {};\n    var e, r = /([^&;=]+)=?([^&;]*)/g,\n        q = window.location.hash.substring(1);\n    while ( e = r.exec(q)) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n    return hashParams;\n}\n\nfunction setCookie(){\n    Cookies.remove(token_key);\n    var params = getHashParams();\n    if(params.access_token != null && params.access_token != ''){\n        Cookies.set(token_key, params.access_token, { expires: 3599/86400 }) //set the cookie to expire after 59 min and 59 sec \n    }\n}\n\n  useEffect(() => {\n    updateHasLoggedIn();\n    var params = getHashParams();\n    let bool = false;\n    if(params.access_token != null && params.access_token != ''){\n      bool = true;\n      \n    }\n    if(checkForToken() == false && bool == true){\n      setCookie();\n    }\n    updateHasLoggedIn();\n  }, []);\n  \n\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <div class=\"w-11/12\">\n          <Welcome  hasLoggedIn={hasLoggedIn}/>\n          <SearchTrack seedTracks={seedTracks} updateSeeds={updateSeeds} />\n          <DisplaySeeds seedTracks={seedTracks} deleteSeed={deleteSeed}/>\n          <DisplayRecommendations seedTracks={seedTracks} recommendations={recommendations} updateRecommendations={updateRecommendations} deleteRecommendation={deleteRecommendation}/>\n          <CreatePlaylist seedTracks={seedTracks} recommendations={recommendations}/>\n        </div>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","/Users/blainehill/Desktop/Arcane2/ui/src/CreatePlaylist.js",["47"],"import React from \"react\";\nimport $ from 'jquery';\nimport { Button } from 'react-bootstrap';\nimport Cookies from \"js-cookie\";\n\n\nconst CreatePlaylist= ({ seedTracks, recommendations }) => {\n\n    function generatePlaylist(seedTrack_names, recommendation_ids, token_key) {\n        \n        let requestData = {\n            seedTrack_names: seedTrack_names,\n            token: Cookies.get(token_key)\n        };\n\n        $.ajax({\n            url: \"/api/createPlaylist\",\n            dataType : 'json',\n            data: requestData,\n            type: \"GET\"\n        }).done(function (response) {\n            if (responseIsSuccess(response)) {\n\n                let requestData2 ={\n                    recommendation_ids: recommendation_ids,\n                    playlist_id: response.data,\n                    token: Cookies.get(token_key)\n                }\n\n                $.ajax({\n                    url: \"/api/addTracks\",\n                    dataType : 'json',\n                    data: requestData2,\n                    type: \"GET\"\n                }).done(function(response2){\n                    alert(\"Check out Spotify for your new Arcane Mix!\");\n                })\n            }\n        });\n    }\n\n\n    function responseIsSuccess(data) {\n        var error;\n        if (data && data.status.error == null) {\n            error = data.status;\n        } else {\n            error = data.status.error.response.status || \"401\";\n        }\n\n        var msg = data.message;\n        // if unauthorized we need to prompt log in\n        if (error && parseInt(error) == 401) {\n            alert(msg);\n            return false;\n        }\n        if (error && error >= 400) {\n            console.log(msg);\n            alert(msg || \"Error: Please try logging in and out again.\");\n            return false;\n        }\n        return true;\n    }\n\n\n\n    return(\n        <div>\n            { recommendations.length > 0 &&\n            <div>\n                <br />\n                <Button class=\"bg-gray-800\" variant=\"secondary btn-lg\" onClick={() => generatePlaylist(seedTracks.map( track => track.artists[0].name), recommendations.map( track => track.id), 'arcane-token-key')}>\n                    Create Playlist!\n                </Button>\n                <br />\n                <br />\n            </div>\n            }       \n        </div>\n        );\n}\n\nexport default CreatePlaylist;","/Users/blainehill/Desktop/Arcane2/ui/src/Welcome.js",["48","49","50","51","52"],"import React, {  useEffect } from \"react\";\nimport { Button } from 'react-bootstrap';\nimport axios from \"axios\";\nimport Cookies from \"js-cookie\";\nimport music_note from \"./music/music.png\"\n\nfunction Welcome({ hasLoggedIn }){\n\n    const token_key = 'arcane-token-key';\n\n    const [quote, setQuote] = React.useState(\"\");\n\n    useEffect(() => {\n        async function fetchQuote() {\n            try {\n                const response = await fetch('https://api.quotable.io/random'); //used the following API: https://github.com/lukePeavey/quotable\n                const data = await response.json();\n                //console.log(`${data.content} —${data.author}`);\n                setQuote(`${data.content} —${data.author}`);\n            } catch (error) {\n              console.log(error);\n            }\n        }\n      \n        fetchQuote();\n\n      }, []);\n    \n    return(\n        <div class=\"p-2 mx-auto my-auto\">\n            <div class=\"flex flex-auto flex-column flex center mx-auto my-auto p-4\">\n                <div class=\"flex flex-auto flex-row flex-wrap flex-center mx-auto\">\n                    <img src={music_note} class=\"mx-auto\"/>\n                    <h4>Welcome to Arcane!</h4>\n                    <img src={music_note} class=\"mx-auto\"/>\n                    <br />\n                </div>\n                <br />\n                <sub class=\"text-muted my-10 mx-auto\">{quote}</sub>\n                <br />\n                <small class=\"text-muted my-10\">Here's how it works: login with your Spotify account. Then, select up to five of your favorite songs to be the seeds for your curated mix. Then plug in some headphones and enjoy your own Arcane experience!</small>\n                <br />\n            </div>\n            { hasLoggedIn ?\n                <div></div>\n                :\n                <a href=\"/api/login\">\n                    <Button class=\"bg-gray-800\" variant=\"secondary btn-lg\">\n                        Log in with Spotify!\n                    </Button>\n                </a>\n            }\n        </div>\n    );\n}\n\n\nexport default Welcome;","/Users/blainehill/Desktop/Arcane2/ui/src/DisplaySeeds.js",["53"],"import React from \"react\";\n\nconst DisplaySeeds = ({ seedTracks, deleteSeed }) => {\n    \n    return(\n        <div>\n            {seedTracks.length > 0 &&\n                <div>\n                    <br />\n                    Your Seeds are:\n                    <br />\n                    <div class=\"flex flex-row mx-16 my-4 px-4 py-4 ring rounded-lg\">\n                        {seedTracks.map((seedTrack) => {\n                            return(\n                                <div class=\"container\" key={seedTrack.id}>\n                                    <button name={seedTrack.name} class=\"object-cover w-full h-full p-4 ring rounded-lg hover:bg-blue-500 active:bg-green-800\" onClick={() => deleteSeed(seedTracks, seedTrack)}>\n                                        <img src={seedTrack.album.images[0].url} />\n                                        <p>{seedTrack.name} <br /> <i>by {seedTrack.artists[0].name}</i></p>\n                                    </button>\n                                </div>\n                            );\n                            })}\n                            {[...Array(5-(seedTracks.length || 0))].map((i) =>{\n                                return(\n                                    <div class=\"container\" key={i}>\n                                        <div class=\"object-cover w-full h-full p-4 ring rounded-lg min-h:full\" />\n                                    </div>\n                                );\n                            })\n                        }\n                        \n                    </div>\n                </div>\n            }\n        </div>\n    );\n}\nexport default DisplaySeeds;","/Users/blainehill/Desktop/Arcane2/ui/src/SearchTrack.js",["54","55","56","57","58","59"],"  \nimport React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport $ from 'jquery';\nimport { Form, InputGroup, Button } from 'react-bootstrap';\nimport Cookies from \"js-cookie\";\n\n\nconst SearchTrack = ({ seedTracks, updateSeeds }) => {\n\n    const { register, handleSubmit, watch, errors } = useForm();\n    const [trackQuery, setTrackQuery] = useState('');\n    const [tracks, setTracks] = useState([]);\n    const [searched, setSearched] = useState(false);\n\n    function handleChange(event) {\n        setTrackQuery({...trackQuery, [event.target.name]: event.target.value})\n    }\n\n    const onSubmit = () => {\n        setSearched(true);\n        searchTrackByName(trackQuery.query, 'arcane-token-key');\n    }\n\n    function searchTrackByName(track_name, token_key) {\n\n        $.ajax({\n            url: \"/api/trackSearch\",\n            data: {\n                track_value: track_name,\n                token: Cookies.get(token_key),\n                limit: \"5\",\n                type: \"GET\"\n            }\n        }).done(function (data) {\n            if (responseIsSuccess(data)) {\n                setTracks(data.trackResult.tracks.items);\n            }\n        });\n    }\n\n    function responseIsSuccess(data) {\n        var error;\n        if (data && data.status.error == null) {\n            error = data.status;\n        } else {\n            error = data.status.error.response.status || \"401\";\n        }\n\n        var msg = data.message;\n        // if unauthorized we need to prompt log in\n        if (error && parseInt(error) == 401) {\n            alert(msg);\n            return false;\n        }\n        if (error && error >= 400) {\n            console.log(msg);\n            alert(msg || \"Error: Please try logging in and out again.\");\n            return false;\n        }\n        return true;\n    }\n\n    function addTracktoSeeds(track){\n        if(seedTracks.length < 5){\n            updateSeeds(seedTracks, track);\n        }\n        \n        \n    }\n\n\n    return(\n        <div>\n            <Form onSubmit={handleSubmit(onSubmit)}>\n                <div class=\"flex flex-col m-10\">\n                    <Form.Label class=\"py-1\">Search for your top tracks:</Form.Label>\n                    <Form.Text className=\"text-muted py-1\">\n                        Select a track below to add it to your recommendation seeds\n                    </Form.Text>\n\n                    <InputGroup className=\"mb-3\">\n                        <Form.Control required id=\"validationTrack\" class=\"p-12\" name=\"query\" placeholder=\"Enter track name\" defaultValue={''} autoComplete=\"on\" onChange={handleChange}/>\n                        <InputGroup.Append>\n                        <Button class=\"bg-gray-800\" type=\"submit\" defaultValue=\"Submit\" variant=\"secondary\">Submit</Button>\n                        </InputGroup.Append>\n                    </InputGroup>\n                </div>\n            </Form>\n            \n            {searched == true && \n                <div class=\"flex flex-row flex-wrap mx-8 my-4 px-4 py-4 ring rounded-lg\">\n                    {tracks.map((track) => {\n                        return(\n                            <div class=\"container mx-auto w-1/5 p-3\">\n                                <button class=\"object-cover w-full h-full p-4 ring rounded-lg hover:bg-blue-500 active:bg-green-800\" key={track.id} onClick={() => addTracktoSeeds(track)} name={track.name}>   \n                                    <img src={track.album.images[0].url} />\n                                    <p>{track.name} <br /> <i>by {track.artists[0].name}</i></p>\n                                </button>\n                            </div>\n                            );\n                        })}\n                </div>\n            }\n        </div>\n\n    );\n}\n\n\nexport default SearchTrack;","/Users/blainehill/Desktop/Arcane2/ui/src/DisplayRecommendations.js",["60","61"],"\nimport React from \"react\";\nimport $ from 'jquery';\nimport { Button } from 'react-bootstrap';\nimport Cookies from \"js-cookie\";\n\n\nconst DisplayRecommendations = ({ seedTracks, recommendations, updateRecommendations, deleteRecommendation }) => {\n\n    function generateRecommendations(seedTracks, token_key) {\n        \n        let requestData = {\n            limit: \"25\",\n            seed_tracks: seedTracks,\n            token: Cookies.get(token_key)\n        };\n\n        $.ajax({\n            url: \"/api/recommendations\",\n            dataType : 'json',\n            data: requestData,\n            type: \"POST\"\n        }).done(function (data) {\n            if (responseIsSuccess(data)) {\n                data.trackResult.tracks.forEach((track) => {updateRecommendations(recommendations, track);});\n            }\n        });\n    }\n\n    function responseIsSuccess(data) {\n        var error;\n        if (data && data.status.error == null) {\n            error = data.status;\n        } else {\n            error = data.status.error.response.status || \"401\";\n        }\n\n        var msg = data.message;\n        \n        if (error && parseInt(error) == 401) {\n            alert(msg);\n            return false;\n        }\n        if (error && error >= 400) {\n            console.log(msg);\n            alert(msg || \"Error: Please try logging in and out again.\");\n            return false;\n        }\n        return true;\n    }\n\n    return(\n        <div>\n            {seedTracks.length > 0 &&\n                <div>\n                    <div>\n                        <br />\n                        <Button class=\"bg-gray-800\" variant=\"secondary btn-lg\" onClick={() => generateRecommendations(seedTracks.map( track => track.id), 'arcane-token-key')}>\n                            Get Recommendations!\n                        </Button>\n                        <br />\n                        <br />\n                    </div>\n                    <div>\n                        { recommendations.length > 0 &&\n                            <div class=\"flex flex-row flex-wrap mx-16 my-4 px-4 py-4 ring rounded-lg\">\n                            {recommendations.map((track) => {\n                                return(\n                                    <div class=\"container mx-auto w-1/5 p-3\">\n                                        <button class=\"object-cover w-auto h-auto p-3 ring rounded-lg hover:bg-blue-500 active:bg-green-800\" key={track.id}  onClick={() => deleteRecommendation(recommendations, track)}>   \n                                            <img src={track.album.images[0].url} />\n                                            <p class=\"text-base md:text-lg sm:text-sm\">{track.name} <br /> <i>by {track.artists[0].name}</i></p>\n                                        </button>\n                                        <br />\n                                    </div>\n                                    );\n                                })}\n                        </div>\n                        }\n                    </div>\n\n                </div>\n            }\n        </div>\n    );\n}\n\nexport default DisplayRecommendations;",{"ruleId":"62","severity":1,"message":"63","line":2,"column":8,"nodeType":"64","messageId":"65","endLine":2,"endColumn":9},{"ruleId":"62","severity":1,"message":"66","line":3,"column":8,"nodeType":"64","messageId":"65","endLine":3,"endColumn":14},{"ruleId":"67","severity":1,"message":"68","line":41,"column":33,"nodeType":"69","messageId":"70","endLine":41,"endColumn":35},{"ruleId":"67","severity":1,"message":"68","line":49,"column":31,"nodeType":"69","messageId":"70","endLine":49,"endColumn":33},{"ruleId":"71","severity":1,"message":"72","line":61,"column":13,"nodeType":"73","messageId":"74","endLine":61,"endColumn":26},{"ruleId":"67","severity":1,"message":"75","line":70,"column":59,"nodeType":"69","messageId":"70","endLine":70,"endColumn":61},{"ruleId":"67","severity":1,"message":"75","line":79,"column":59,"nodeType":"69","messageId":"70","endLine":79,"endColumn":61},{"ruleId":"67","severity":1,"message":"68","line":83,"column":24,"nodeType":"69","messageId":"70","endLine":83,"endColumn":26},{"ruleId":"67","severity":1,"message":"68","line":83,"column":41,"nodeType":"69","messageId":"70","endLine":83,"endColumn":43},{"ruleId":"76","severity":1,"message":"77","line":87,"column":6,"nodeType":"78","endLine":87,"endColumn":8,"suggestions":"79"},{"ruleId":"67","severity":1,"message":"68","line":53,"column":38,"nodeType":"69","messageId":"70","endLine":53,"endColumn":40},{"ruleId":"62","severity":1,"message":"80","line":3,"column":8,"nodeType":"64","messageId":"65","endLine":3,"endColumn":13},{"ruleId":"62","severity":1,"message":"81","line":4,"column":8,"nodeType":"64","messageId":"65","endLine":4,"endColumn":15},{"ruleId":"62","severity":1,"message":"82","line":9,"column":11,"nodeType":"64","messageId":"65","endLine":9,"endColumn":20},{"ruleId":"83","severity":1,"message":"84","line":33,"column":21,"nodeType":"85","endLine":33,"endColumn":60},{"ruleId":"83","severity":1,"message":"84","line":35,"column":21,"nodeType":"85","endLine":35,"endColumn":60},{"ruleId":"83","severity":1,"message":"84","line":17,"column":41,"nodeType":"85","endLine":17,"endColumn":84},{"ruleId":"62","severity":1,"message":"86","line":11,"column":13,"nodeType":"64","messageId":"65","endLine":11,"endColumn":21},{"ruleId":"62","severity":1,"message":"87","line":11,"column":37,"nodeType":"64","messageId":"65","endLine":11,"endColumn":42},{"ruleId":"62","severity":1,"message":"88","line":11,"column":44,"nodeType":"64","messageId":"65","endLine":11,"endColumn":50},{"ruleId":"67","severity":1,"message":"68","line":52,"column":38,"nodeType":"69","messageId":"70","endLine":52,"endColumn":40},{"ruleId":"67","severity":1,"message":"68","line":91,"column":23,"nodeType":"69","messageId":"70","endLine":91,"endColumn":25},{"ruleId":"83","severity":1,"message":"84","line":97,"column":37,"nodeType":"85","endLine":97,"endColumn":76},{"ruleId":"67","severity":1,"message":"68","line":40,"column":38,"nodeType":"69","messageId":"70","endLine":40,"endColumn":40},{"ruleId":"83","severity":1,"message":"84","line":71,"column":45,"nodeType":"85","endLine":71,"endColumn":84},"no-unused-vars","'$' is defined but never used.","Identifier","unusedVar","'Popper' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-cond-assign","Expected a conditional expression and instead saw an assignment.","AssignmentExpression","missing","Expected '!==' and instead saw '!='.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'setCookie'. Either include it or remove the dependency array.","ArrayExpression",["89"],"'axios' is defined but never used.","'Cookies' is defined but never used.","'token_key' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'register' is assigned a value but never used.","'watch' is assigned a value but never used.","'errors' is assigned a value but never used.",{"desc":"90","fix":"91"},"Update the dependencies array to be: [setCookie]",{"range":"92","text":"93"},[2385,2387],"[setCookie]"]