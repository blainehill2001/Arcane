[{"/Users/blainehill/Desktop/Arcane/ui/src/index.js":"1","/Users/blainehill/Desktop/Arcane/ui/src/App.js":"2","/Users/blainehill/Desktop/Arcane/ui/src/Welcome.js":"3","/Users/blainehill/Desktop/Arcane/ui/src/DisplaySeeds.js":"4","/Users/blainehill/Desktop/Arcane/ui/src/SearchTrack.js":"5","/Users/blainehill/Desktop/Arcane/ui/src/DisplayRecommendations.js":"6","/Users/blainehill/Desktop/Arcane/ui/src/CreatePlaylist.js":"7"},{"size":335,"mtime":1621383674102,"results":"8","hashOfConfig":"9"},{"size":4054,"mtime":1621383825877,"results":"10","hashOfConfig":"9"},{"size":3254,"mtime":1621383451798,"results":"11","hashOfConfig":"9"},{"size":2497,"mtime":1621454669748,"results":"12","hashOfConfig":"9"},{"size":4616,"mtime":1621453368650,"results":"13","hashOfConfig":"9"},{"size":4017,"mtime":1621475862560,"results":"14","hashOfConfig":"9"},{"size":2726,"mtime":1621475980379,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"hybr8h",{"filePath":"19","messages":"20","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"18"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24","usedDeprecatedRules":"18"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"27","messages":"28","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"18"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"32","messages":"33","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/blainehill/Desktop/Arcane/ui/src/index.js",[],["34","35"],"/Users/blainehill/Desktop/Arcane/ui/src/App.js",["36","37","38","39","40","41","42","43","44"],"import React, { useEffect, useState } from \"react\";\nimport Welcome from './Welcome';\nimport SearchTrack from './SearchTrack';\nimport DisplaySeeds from './DisplaySeeds';\nimport DisplayRecommendations from './DisplayRecommendations';\nimport CreatePlaylist from './CreatePlaylist'\nimport Cookies from \"js-cookie\";\nimport './App.css'; \nvar _ = require('underscore');\n\n\nfunction App() {\n\n  const[seedTracks, setSeedTracks] = useState([]);\n  const[recommendations, setRecommendations] = useState([]);\n  const token_key = 'arcane-token-key';\n  const[hasLoggedIn, setHasLoggedIn] = useState(false);\n  const[background, setBackground] = useState(\"\");\n\n\n  const updateSeeds = (trackArray, newTrack) => {\n    trackArray.push(newTrack);\n    setSeedTracks([...trackArray]);\n  }\n\n  const deleteSeed = (trackArray, trackToBeDeleted) => {\n    trackArray = _.without(trackArray, trackToBeDeleted);\n    setSeedTracks([...trackArray]);\n  }\n\n  const updateRecommendations = (trackArray, newTrack) => {\n    trackArray.push(newTrack);\n    setRecommendations([...trackArray]);\n  }\n\n  const deleteRecommendation = (trackArray, trackToBeDeleted) => {\n    trackArray = _.without(trackArray, trackToBeDeleted);\n    setRecommendations([...trackArray]);\n  }\n\n  const clearRecommendations = (trackArray) => {\n    let length = recommendations.length;\n    for(let i = 0; i < length; i++){\n      trackArray.pop();\n    }\n    setRecommendations([...trackArray]);\n  }\n\n  function checkForToken(){\n      if(Cookies.get(token_key) == undefined || Cookies.get(token_key) == null){\n        return false;\n      }\n      else{\n        return true;\n      }\n  }\n  function updateHasLoggedIn(){\n    if(Cookies.get(token_key) == undefined || Cookies.get(token_key) == null){\n      setHasLoggedIn(false);\n    }\n    else{\n      setHasLoggedIn(true);\n    }\n  }\n\n  function getHashParams() {\n    var hashParams = {};\n    var e, r = /([^&;=]+)=?([^&;]*)/g,\n        q = window.location.hash.substring(1);\n    while ( e = r.exec(q)) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n    return hashParams;\n  }\n\n  function setCookie(){\n      Cookies.remove(token_key);\n      var params = getHashParams();\n      if(params.access_token != null && params.access_token != ''){\n          Cookies.set(token_key, params.access_token, { expires: 3599/86400 }) //set the cookie to expire after 59 min and 59 sec \n      }\n  }\n\n  function getRandomInt(max) {\n    return Math.floor(Math.random() * max);\n  }\n\n  function generateBackground(){\n    if(background == \"\"){\n      let randomNumber = getRandomInt(40);\n      let backgroundClassname = \"App-background\" + randomNumber.toString();\n      setBackground(backgroundClassname);\n    }\n    return background;\n  }\n\n  useEffect(() => {\n    if(!hasLoggedIn){\n      Cookies.remove(token_key);\n    }\n    updateHasLoggedIn();\n    var params = getHashParams();\n    let bool = false;\n    if(params.access_token != null && params.access_token != ''){\n      bool = true;\n      \n    }\n    if(checkForToken() == false && bool == true){\n      setCookie();\n    }\n    updateHasLoggedIn();\n  }, []);\n  \n  const content = (\n    <header className=\"App-header2\">\n        <Welcome  hasLoggedIn={hasLoggedIn} setHasLoggedIn={setHasLoggedIn}/>\n        <header className=\"App-header\">\n          <div class=\"w-11/12\">\n            <SearchTrack seedTracks={seedTracks} updateSeeds={updateSeeds} hasLoggedIn={hasLoggedIn}/>\n            <DisplaySeeds seedTracks={seedTracks} deleteSeed={deleteSeed}/>\n            <DisplayRecommendations seedTracks={seedTracks} recommendations={recommendations} updateRecommendations={updateRecommendations} deleteRecommendation={deleteRecommendation} clearRecommendations={clearRecommendations}/>\n            <CreatePlaylist seedTracks={seedTracks} recommendations={recommendations}/>\n          </div>\n        </header>\n    </header>\n  );\n\n\n  return (\n\n    <div className=\"App\">\n      <div className={generateBackground()}>\n        <div class=\"overscroll-contain\">\n          {content}\n        </div>\n      </div>\n    </div>\n    \n  );\n}\n\nexport default App;\n","/Users/blainehill/Desktop/Arcane/ui/src/Welcome.js",["45","46","47","48","49"],"import React from \"react\";\nimport { Button } from 'react-bootstrap';\nimport Cookies from \"js-cookie\";\nimport music_note from \"./assets/music.png\"\nimport github_logo from \"./assets/github.svg\";\n\n\nfunction Welcome({ hasLoggedIn, setHasLoggedIn }){\n\n    const token_key = 'arcane-token-key';\n\n    let url;\n    if (process.env.NODE_ENV == \"production\") {\n        url = \"/api/login\";\n    } else {\n        url = \"http://localhost:3001/api/login\";\n    }\n\n    let url2;\n    if (process.env.NODE_ENV == \"production\") {\n        url2 = \"http://arcane-spotify.herokuapp.com/\";\n    } else {\n        url2 = \"http://localhost:3000/\";\n    }\n\n    function logout(){\n        Cookies.remove(token_key);\n        Cookies.remove('spotify_auth_state');\n        setHasLoggedIn(false);\n    }\n    \n    return(\n        <div>\n            <div class=\"flex flex-wrap flex-1 justify-between flex-row ring ring-transparent p-3\">\n                <a href={url2}>\n                    <img src={music_note}/>\n                </a>\n                <a href = \"https://github.com/blainehill2001/Arcane\" class=\"my-auto\">\n                    <img src={github_logo}/>\n                </a>\n            </div>\n            \n            { hasLoggedIn ?\n                <div>\n                        <div class=\"flex flex-column justify-center items-center\">\n                            <div class=\"mx-auto px-3 py-3 ring ring-transparent rounded-lg bg-green-700\">\n                                <Button class=\"bg-gray-800\" variant=\"secondary btn-lg\" onClick={logout}>\n                                    <a href={url2}>\n                                        Log out of Spotify\n                                    </a>\n                                </Button>\n                            </div>\n                        </div>\n                </div>\n                :\n                <div class=\"flex flex-column justify-center items-center\">\n                    <div class=\"mx-10 sm:mx-20 md:mx-30 lg:mx-40 px-3 py-3 ring ring-transparent rounded-lg bg-green-700\">\n                        <h2>Welcome to Arcane!</h2>\n                        <p class=\"p-3 text-xs sm:text-sm md:text-base\">\n                        Here's how it works: login with your Spotify account. Then, select up to five of your favorite songs to be the seeds for your curated mix. Then plug in some headphones and enjoy your own Arcane experience!\n                        </p>\n                        <a href={url}>\n                                <Button class=\"bg-gray-800\" variant=\"secondary btn-lg\">\n                                    Log in with Spotify!\n                                </Button>\n                        </a>\n                        <div class=\"py-3 px-5 flex flex-row flex-auto flex-wrap justify-between text-super-duper-small sm:text-super-small md:text-xs lg:text-sm\">\n                            <a href=\"https://icons8.com/\">Icons by Icons8</a>\n                            <a>By using this app, you consent to cookie usage to generate awesome music!</a>\n                            <a href=\"https://www.heropatterns.com/\">Backgrounds by Hero Patterns</a>\n                        </div>\n                    </div>\n                </div>\n            }\n        </div>\n    );\n}\n\n\nexport default Welcome;","/Users/blainehill/Desktop/Arcane/ui/src/DisplaySeeds.js",["50","51"],"/Users/blainehill/Desktop/Arcane/ui/src/SearchTrack.js",["52","53","54","55","56","57","58"],"  \nimport React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport $ from 'jquery';\nimport { Form, InputGroup, Button } from 'react-bootstrap';\nimport Cookies from \"js-cookie\";\n\n\nconst SearchTrack = ({ seedTracks, updateSeeds, hasLoggedIn}) => {\n\n    const { handleSubmit} = useForm();\n    const [trackQuery, setTrackQuery] = useState('');\n    const [tracks, setTracks] = useState([]);\n    const [searched, setSearched] = useState(false);\n\n    function handleChange(event) {\n        setTrackQuery({...trackQuery, [event.target.name]: event.target.value})\n    }\n\n    const onSubmit = () => {\n        setSearched(true);\n        searchTrackByName(trackQuery.query, 'arcane-token-key');\n    }\n\n    function searchTrackByName(track_name, token_key) {\n\n        let url;\n        if (process.env.NODE_ENV == \"production\") {\n            url = \"/api/trackSearch\";\n        } else {\n            url = \"http://localhost:3001/api/trackSearch\";\n        }\n\n        $.ajax({\n            url: url,\n            data: {\n                track_value: track_name,\n                token: Cookies.get(token_key),\n                limit: \"5\",\n                type: \"GET\"\n            }\n        }).done(function (data) {\n            if (responseIsSuccess(data)) {\n                setTracks(data.trackResult.tracks.items);\n            }\n        });\n    }\n\n    function responseIsSuccess(data) {\n        let error;\n        if (data && data.status) {\n            error = data.status;\n        } else {\n            error = data.status.error.response.status || \"401\";\n        }\n\n        var message = data.message;\n\n        if (error && parseInt(error) == 401) {\n            alert(message);\n            return false;\n        }\n        if (error && error >= 400) {\n            alert(message || \"Error: Please try logging in and out again.\");\n            return false;\n        }\n        return true;\n    }\n\n    function addTracktoSeeds(track){\n        let isDuplicate = false;\n        seedTracks.forEach((seedTrack) => {if(seedTrack.id == track.id){\n            isDuplicate = true;\n        }});\n        if(seedTracks.length < 5 && isDuplicate == false){\n            updateSeeds(seedTracks, track);\n        }\n        \n        \n    }\n\n\n    return(\n        <div>\n            {hasLoggedIn == true &&\n                <div class=\"mx-auto my-4 px-4 py-4 ring ring-transparent rounded-lg bg-green-700\">\n                    <Form onSubmit={handleSubmit(onSubmit)}>\n                        <div class=\"flex flex-col\">\n                            \n                            <h4>Search for your top tracks:</h4>\n                            <p class=\"text-xs sm:text-sm md:text-base lg:text-lg p-2\">Select a track below to add it to your recommendation seeds:</p>\n\n                            <InputGroup className=\"mb-3\">\n                                <Form.Control required id=\"validationTrack\" class=\"p-12\" name=\"query\" placeholder=\"Enter track name\" defaultValue={''} autoComplete=\"on\" onChange={handleChange}/>\n                                <InputGroup.Append>\n                                <Button class=\"bg-gray-800\" type=\"submit\" defaultValue=\"Submit\" variant=\"secondary\">Submit</Button>\n                                </InputGroup.Append>\n                            </InputGroup>\n                        </div>\n                    </Form>\n                    \n                    {searched == true && \n                        <div class=\"flex flex-row flex-wrap\">\n                            {tracks.map((track) => {\n                                return(\n                                    <div class=\"container mx-auto w-1/2 lg:w-1/5 md:w-1/3 p-3\">\n                                        <button class=\"w-full h-full p-4 ring ring-transparent rounded-lg bg-green-800 hover:bg-blue-500 active:bg-indigo-800\" key={track.id} onClick={() => addTracktoSeeds(track)} name={track.name}>   \n                                            <img src={track.album.images[0].url} class=\"object-scale-down\"/>\n                                            <div class=\"flex flex-row flex-wrap justify-around\">\n                                                <p class=\"p-1 text-xs sm:text-sm md:text-base lg:text-lg\">{track.name} <br /> <i>by {track.artists[0].name}</i></p>\n                                            </div>\n                                        </button>\n                                    </div>\n                                    );\n                                })}\n                        </div>\n                    }\n                </div>\n            }\n        </div>\n    );\n}\n\n\nexport default SearchTrack;","/Users/blainehill/Desktop/Arcane/ui/src/DisplayRecommendations.js",["59","60","61"],"/Users/blainehill/Desktop/Arcane/ui/src/CreatePlaylist.js",["62","63","64"],{"ruleId":"65","replacedBy":"66"},{"ruleId":"67","replacedBy":"68"},{"ruleId":"69","severity":1,"message":"70","line":50,"column":33,"nodeType":"71","messageId":"72","endLine":50,"endColumn":35},{"ruleId":"69","severity":1,"message":"70","line":58,"column":31,"nodeType":"71","messageId":"72","endLine":58,"endColumn":33},{"ruleId":"73","severity":1,"message":"74","line":70,"column":13,"nodeType":"75","messageId":"76","endLine":70,"endColumn":26},{"ruleId":"69","severity":1,"message":"77","line":79,"column":61,"nodeType":"71","messageId":"72","endLine":79,"endColumn":63},{"ruleId":"69","severity":1,"message":"70","line":89,"column":19,"nodeType":"71","messageId":"72","endLine":89,"endColumn":21},{"ruleId":"69","severity":1,"message":"77","line":104,"column":59,"nodeType":"71","messageId":"72","endLine":104,"endColumn":61},{"ruleId":"69","severity":1,"message":"70","line":108,"column":24,"nodeType":"71","messageId":"72","endLine":108,"endColumn":26},{"ruleId":"69","severity":1,"message":"70","line":108,"column":41,"nodeType":"71","messageId":"72","endLine":108,"endColumn":43},{"ruleId":"78","severity":1,"message":"79","line":112,"column":6,"nodeType":"80","endLine":112,"endColumn":8,"suggestions":"81"},{"ruleId":"69","severity":1,"message":"70","line":13,"column":30,"nodeType":"71","messageId":"72","endLine":13,"endColumn":32},{"ruleId":"69","severity":1,"message":"70","line":20,"column":30,"nodeType":"71","messageId":"72","endLine":20,"endColumn":32},{"ruleId":"82","severity":1,"message":"83","line":36,"column":21,"nodeType":"84","endLine":36,"endColumn":44},{"ruleId":"82","severity":1,"message":"83","line":39,"column":21,"nodeType":"84","endLine":39,"endColumn":45},{"ruleId":"85","severity":1,"message":"86","line":69,"column":29,"nodeType":"84","endLine":69,"endColumn":32},{"ruleId":"82","severity":1,"message":"83","line":15,"column":41,"nodeType":"84","endLine":15,"endColumn":109},{"ruleId":"82","severity":1,"message":"83","line":27,"column":45,"nodeType":"84","endLine":27,"endColumn":128},{"ruleId":"69","severity":1,"message":"70","line":28,"column":34,"nodeType":"71","messageId":"72","endLine":28,"endColumn":36},{"ruleId":"69","severity":1,"message":"70","line":59,"column":38,"nodeType":"71","messageId":"72","endLine":59,"endColumn":40},{"ruleId":"69","severity":1,"message":"70","line":72,"column":60,"nodeType":"71","messageId":"72","endLine":72,"endColumn":62},{"ruleId":"69","severity":1,"message":"70","line":75,"column":49,"nodeType":"71","messageId":"72","endLine":75,"endColumn":51},{"ruleId":"69","severity":1,"message":"70","line":85,"column":26,"nodeType":"71","messageId":"72","endLine":85,"endColumn":28},{"ruleId":"69","severity":1,"message":"70","line":102,"column":31,"nodeType":"71","messageId":"72","endLine":102,"endColumn":33},{"ruleId":"82","severity":1,"message":"83","line":108,"column":45,"nodeType":"84","endLine":108,"endColumn":109},{"ruleId":"69","severity":1,"message":"70","line":19,"column":34,"nodeType":"71","messageId":"72","endLine":19,"endColumn":36},{"ruleId":"69","severity":1,"message":"70","line":50,"column":38,"nodeType":"71","messageId":"72","endLine":50,"endColumn":40},{"ruleId":"82","severity":1,"message":"83","line":82,"column":53,"nodeType":"84","endLine":82,"endColumn":117},{"ruleId":"69","severity":1,"message":"70","line":17,"column":34,"nodeType":"71","messageId":"72","endLine":17,"endColumn":36},{"ruleId":"69","severity":1,"message":"70","line":32,"column":42,"nodeType":"71","messageId":"72","endLine":32,"endColumn":44},{"ruleId":"69","severity":1,"message":"70","line":69,"column":38,"nodeType":"71","messageId":"72","endLine":69,"endColumn":40},"no-native-reassign",["87"],"no-negated-in-lhs",["88"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-cond-assign","Expected a conditional expression and instead saw an assignment.","AssignmentExpression","missing","Expected '!==' and instead saw '!='.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'hasLoggedIn' and 'setCookie'. Either include them or remove the dependency array.","ArrayExpression",["89"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","no-global-assign","no-unsafe-negation",{"desc":"90","fix":"91"},"Update the dependencies array to be: [hasLoggedIn, setCookie]",{"range":"92","text":"93"},[3070,3072],"[hasLoggedIn, setCookie]"]