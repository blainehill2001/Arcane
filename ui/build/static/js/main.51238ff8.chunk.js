(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{123:function(e,t,r){},210:function(e,t,r){"use strict";r.r(t);r(96);var n=r(20),a=r.n(n),s=(r(97),r(0)),c=r.n(s),i=r(94),l=r.n(i),o=(r(65),r(123),r(8)),u=r(10),d=r(214),j=(r(124),r(11)),b=r.n(j),g="data:image/png;base64,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",x=r(1);var m=function(e){var t,r=e.hasLoggedIn;return t="/api/login",Object(x.jsxs)("div",{class:"p-2 mx-auto my-auto",children:[Object(x.jsxs)("div",{class:"flex flex-auto flex-column flex center mx-auto my-auto p-4",children:[Object(x.jsxs)("div",{class:"flex flex-auto flex-row flex-wrap flex-center mx-auto my-4 px-4 py-4 ring ring-transparent rounded-lg bg-green-700",children:[Object(x.jsx)("img",{src:g}),Object(x.jsx)("h4",{children:"Welcome to Arcane!"}),Object(x.jsx)("img",{src:g}),Object(x.jsx)("br",{})]}),Object(x.jsx)("br",{}),Object(x.jsx)("small",{class:"text-muted text-center my-10",children:"Here's how it works: login with your Spotify account. Then, select up to five of your favorite songs to be the seeds for your curated mix. Then plug in some headphones and enjoy your own Arcane experience!"}),Object(x.jsx)("br",{})]}),r?Object(x.jsx)("div",{}):Object(x.jsx)("a",{href:t,children:Object(x.jsx)(d.a,{class:"bg-gray-800",variant:"secondary btn-lg",children:"Log in with Spotify!"})})]})},f=r(21),h=r(62),O=r(95),p=r(213),v=r(212),y=function(e){var t=e.seedTracks,r=e.recommendations,n=e.updateRecommendations,s=e.deleteRecommendation,c=e.clearRecommendations;function i(e,t){var s,i={limit:"25",seed_tracks:e,token:b.a.get(t)};s="/api/recommendations",a.a.ajax({url:s,dataType:"json",data:i,type:"POST"}).done((function(e){(function(e){var t;t=e&&null==e.status.error?e.status:e.status.error.response.status||"401";var r=e.message;if(t&&401==parseInt(t))return alert(r),!1;if(t&&t>=400)return console.log(r),alert(r||"Error: Please try logging in and out again."),!1;return!0})(e)&&(r.length>0&&c(r),e.trackResult.tracks.forEach((function(e){n(r,e)})))}))}return Object(x.jsx)("div",{children:t.length>0&&Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("br",{}),Object(x.jsx)(d.a,{class:"bg-gray-800",variant:"secondary btn-lg",onClick:function(){return i(t.map((function(e){return e.id})),"arcane-token-key")},children:"Get Recommendations!"}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{})]}),Object(x.jsx)("div",{children:r.length>0&&Object(x.jsx)("div",{class:"flex flex-row flex-wrap mx-8 my-4 px-4 py-4 ring ring-transparent rounded-lg bg-green-700",children:r.map((function(e){return Object(x.jsxs)("div",{class:"container mx-auto w-1/2 lg:w-1/5 md:w-1/3 p-3",children:[Object(x.jsxs)("button",{class:"object-cover w-full h-full p-4 ring ring-transparent rounded-lg bg-green-800 hover:bg-blue-500 active:bg-indigo-800",onClick:function(){return s(r,e)},children:[Object(x.jsx)("img",{src:e.album.images[0].url}),Object(x.jsxs)("p",{class:"text-xs sm:text-sm md:text-base lg:text-lg",children:[e.name," ",Object(x.jsx)("br",{})," ",Object(x.jsxs)("i",{children:["by ",e.artists[0].name]})]})]},e.id),Object(x.jsx)("br",{})]})}))})})]})})},A=(r(145),function(e){var t=e.seedTracks,r=e.updateSeeds,n=Object(O.a)(),c=(n.register,n.handleSubmit),i=(n.watch,n.errors,Object(s.useState)("")),l=Object(u.a)(i,2),o=l[0],j=l[1],g=Object(s.useState)([]),m=Object(u.a)(g,2),y=m[0],A=m[1],w=Object(s.useState)(!1),S=Object(u.a)(w,2),k=S[0],B=S[1];return Object(x.jsxs)("div",{children:[Object(x.jsx)(p.a,{onSubmit:c((function(){B(!0),function(e,t){var r;r="/api/trackSearch";a.a.ajax({url:r,data:{track_value:e,token:b.a.get(t),limit:"5",type:"GET"}}).done((function(e){(function(e){var t;t=e&&null==e.status.error?e.status:e.status.error.response.status||"401";var r=e.message;if(t&&401==parseInt(t))return alert(r),!1;if(t&&t>=400)return console.log(r),alert(r||"Error: Please try logging in and out again."),!1;return!0})(e)&&A(e.trackResult.tracks.items)}))}(o.query,"arcane-token-key")})),children:Object(x.jsxs)("div",{class:"flex flex-col m-10",children:[Object(x.jsx)(p.a.Label,{class:"py-1",children:"Search for your top tracks:"}),Object(x.jsx)(p.a.Text,{className:"text-muted py-1",children:"Select a track below to add it to your recommendation seeds"}),Object(x.jsxs)(v.a,{className:"mb-3",children:[Object(x.jsx)(p.a.Control,{required:!0,id:"validationTrack",class:"p-12",name:"query",placeholder:"Enter track name",defaultValue:"",autoComplete:"on",onChange:function(e){j(Object(h.a)(Object(h.a)({},o),{},Object(f.a)({},e.target.name,e.target.value)))}}),Object(x.jsx)(v.a.Append,{children:Object(x.jsx)(d.a,{class:"bg-gray-800",type:"submit",defaultValue:"Submit",variant:"secondary",children:"Submit"})})]})]})}),1==k&&Object(x.jsx)("div",{class:"flex flex-row flex-wrap mx-8 my-4 px-4 py-4 ring ring-transparent rounded-lg bg-green-700",children:y.map((function(e){return Object(x.jsx)("div",{class:"container mx-auto w-1/2 lg:w-1/5 md:w-1/3 p-3",children:Object(x.jsxs)("button",{class:"object-cover w-full h-full p-4 ring ring-transparent rounded-lg bg-green-800 hover:bg-blue-500 active:bg-indigo-800",onClick:function(){return function(e){var n=!1;t.forEach((function(t){t.id==e.id&&(n=!0)})),t.length<5&&0==n&&r(t,e)}(e)},name:e.name,children:[Object(x.jsx)("img",{src:e.album.images[0].url}),Object(x.jsxs)("p",{class:"text-xs sm:text-sm md:text-base lg:text-lg",children:[e.name," ",Object(x.jsx)("br",{})," ",Object(x.jsxs)("i",{children:["by ",e.artists[0].name]})]})]},e.id)})}))})]})}),w=function(e){var t=e.seedTracks,r=e.deleteSeed;return Object(x.jsx)("div",{children:t.length>0&&Object(x.jsxs)("div",{children:[Object(x.jsx)("br",{}),"Your Seeds are:",Object(x.jsx)("br",{}),Object(x.jsxs)("div",{class:"flex flex-row flex-wrap mx-8 my-4 px-4 py-4 ring ring-transparent rounded-lg bg-green-700",children:[t.map((function(e){return Object(x.jsx)("div",{class:"container mx-auto w-1/2 lg:w-1/5 md:w-1/3 p-3 h-full",id:"heightgrabber",children:Object(x.jsxs)("button",{name:e.name,class:"object-cover w-full h-full p-4 ring ring-transparent rounded-lg bg-green-800 hover:bg-blue-500 active:bg-indigo-800",onClick:function(){return r(t,e)},children:[Object(x.jsx)("img",{src:e.album.images[0].url}),Object(x.jsxs)("p",{class:"text-xs sm:text-sm md:text-base lg:text-lg",children:[e.name," ",Object(x.jsx)("br",{})," ",Object(x.jsxs)("i",{children:["by ",e.artists[0].name]})]})]})},e.id)})),Object(o.a)(Array(5-(t.length||0))).map((function(e){return Object(x.jsx)("div",{class:"container mx-auto w-1/2 lg:w-1/5 md:w-1/3 p-3",children:Object(x.jsx)("div",{class:"object-cover w-full h-full p-4 ring ring-transparent rounded-lg min-h:full bg-green-800",children:Object(x.jsxs)("div",{children:[Object(x.jsx)("img",{class:"opacity-0",src:t[0].album.images[0].url}),Object(x.jsxs)("p",{class:"text-green-800 text-xs sm:text-sm md:text-base lg:text-lg",children:[t[0].name," ",Object(x.jsx)("br",{})," ",Object(x.jsxs)("i",{children:["by ",t[0].artists[0].name]})]})]})})},e)}))]})]})})},S=function(e){var t=e.seedTracks,r=e.recommendations;function n(e,t,r){var n,s={seedTrack_names:e,token:b.a.get(r)};n="/api/createPlaylist",a.a.ajax({url:n,dataType:"json",data:s,type:"GET"}).done((function(e){if(function(e){var t;t=e&&null==e.status.error?e.status:e.status.error.response.status||"401";var r=e.message;if(t&&401==parseInt(t))return alert(r),!1;if(t&&t>=400)return console.log(r),alert(r||"Error: Please try logging in and out again."),!1;return!0}(e)){var n;n="/api/addTracks";var s={recommendation_ids:t,playlist_id:e.data,token:b.a.get(r)};console.log(e.data),a.a.ajax({url:n,dataType:"json",data:s,type:"GET"}).done((function(){alert("Check out Spotify for your new Arcane Mix!")}))}}))}return Object(x.jsx)("div",{children:r.length>0&&Object(x.jsxs)("div",{children:[Object(x.jsx)("br",{}),Object(x.jsx)(d.a,{class:"bg-gray-800",variant:"secondary btn-lg",onClick:function(){return n(t.map((function(e){return e.artists[0].name})),r.map((function(e){return e.id})),"arcane-token-key")},children:"Create Playlist!"}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{})]})})},k=(r.p,r(209));var B=function(){var e=Object(s.useState)([]),t=Object(u.a)(e,2),r=t[0],n=t[1],a=Object(s.useState)([]),c=Object(u.a)(a,2),i=c[0],l=c[1],d="arcane-token-key",j=Object(s.useState)(!1),g=Object(u.a)(j,2),f=g[0],h=g[1],O=Object(s.useState)(""),p=Object(u.a)(O,2),v=p[0],B=p[1];function C(){void 0==b.a.get(d)||null==b.a.get(d)?h(!1):h(!0)}function T(){for(var e,t={},r=/([^&;=]+)=?([^&;]*)/g,n=window.location.hash.substring(1);e=r.exec(n);)t[e[1]]=decodeURIComponent(e[2]);return t}Object(s.useEffect)((function(){f||b.a.remove(d),C();var e=T(),t=!1;null!=e.access_token&&""!=e.access_token&&(t=!0),0==(void 0!=b.a.get(d)&&null!=b.a.get(d))&&1==t&&function(){b.a.remove(d);var e=T();null!=e.access_token&&""!=e.access_token&&b.a.set(d,e.access_token,{expires:3599/86400})}(),C(),console.log(f)}),[]);var U=Object(x.jsx)("header",{className:"App-header",children:Object(x.jsxs)("div",{class:"w-11/12",children:[Object(x.jsx)(m,{hasLoggedIn:f}),Object(x.jsx)(A,{seedTracks:r,updateSeeds:function(e,t){e.push(t),n(Object(o.a)(e))}}),Object(x.jsx)(w,{seedTracks:r,deleteSeed:function(e,t){e=k.without(e,t),n(Object(o.a)(e))}}),Object(x.jsx)(y,{seedTracks:r,recommendations:i,updateRecommendations:function(e,t){e.push(t),l(Object(o.a)(e))},deleteRecommendation:function(e,t){e=k.without(e,t),l(Object(o.a)(e))},clearRecommendations:function(e){for(var t=i.length,r=0;r<t;r++)e.pop();l(Object(o.a)(e))}}),Object(x.jsx)(S,{seedTracks:r,recommendations:i})]})});return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)("div",{className:function(){if(""==v){var e="App-background"+(t=10,Math.floor(Math.random()*t)).toString();console.log(e),B(e)}var t;return v}(),children:U})})};l.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(B,{})}),document.getElementById("root"))},65:function(e,t,r){}},[[210,1,2]]]);
//# sourceMappingURL=main.51238ff8.chunk.js.map