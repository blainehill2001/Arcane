[{"/Users/blainehill/Desktop/Arcane/src/index.js":"1","/Users/blainehill/Desktop/Arcane/src/App.js":"2","/Users/blainehill/Desktop/Arcane/src/DisplaySeeds.js":"3","/Users/blainehill/Desktop/Arcane/src/Welcome.js":"4","/Users/blainehill/Desktop/Arcane/src/DisplayRecommendations.js":"5","/Users/blainehill/Desktop/Arcane/src/SearchTrack.js":"6","/Users/blainehill/Desktop/Arcane/src/CreatePlaylist.js":"7"},{"size":393,"mtime":1614222748346,"results":"8","hashOfConfig":"9"},{"size":2103,"mtime":1620377478174,"results":"10","hashOfConfig":"9"},{"size":1646,"mtime":1620430800037,"results":"11","hashOfConfig":"9"},{"size":2668,"mtime":1620430808586,"results":"12","hashOfConfig":"9"},{"size":3111,"mtime":1620434246356,"results":"13","hashOfConfig":"9"},{"size":3803,"mtime":1620428958885,"results":"14","hashOfConfig":"9"},{"size":2354,"mtime":1620428972073,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"18","usedDeprecatedRules":"19"},"1g77jk1",{"filePath":"20","messages":"21","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"22","usedDeprecatedRules":"19"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"19"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"19"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"31","messages":"32","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"19"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"19"},"/Users/blainehill/Desktop/Arcane/src/index.js",["37","38"],"import 'bootstrap/dist/css/bootstrap.min.css';\nimport $ from 'jquery';\nimport Popper from 'popper.js';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './App.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n",["39","40"],"/Users/blainehill/Desktop/Arcane/src/App.js",["41","42"],"import React, { useEffect, useState } from \"react\";\nimport Welcome from './Welcome';\nimport SearchTrack from './SearchTrack';\nimport DisplaySeeds from './DisplaySeeds';\nimport DisplayRecommendations from './DisplayRecommendations';\nimport CreatePlaylist from './CreatePlaylist'\nimport Cookies from \"js-cookie\";\nvar _ = require('underscore');\n\n\n\n\nfunction App() {\n\n  const[seedTracks, setSeedTracks] = useState([]);\n  const[recommendations, setRecommendations] = useState([]);\n  const token_key = 'arcane-token-key';\n  const[hasLoggedIn, setHasLoggedIn] = useState(false);\n\n  const updateSeeds = (trackArray, newTrack) => {\n    trackArray.push(newTrack);\n    setSeedTracks([...trackArray]);\n  }\n\n  const deleteSeed = (trackArray, trackToBeDeleted) => {\n    trackArray = _.without(trackArray, trackToBeDeleted);\n    setSeedTracks([...trackArray]);\n  }\n\n  const updateRecommendations = (trackArray, newTrack) => {\n    trackArray.push(newTrack);\n    setRecommendations([...trackArray]);\n  }\n\n  const deleteRecommendation = (trackArray, trackToBeDeleted) => {\n    trackArray = _.without(trackArray, trackToBeDeleted);\n    setRecommendations([...trackArray]);\n  }\n\n  function checkForToken(){\n    if(Cookies.get(token_key) == undefined || Cookies.get(token_key) == null){\n        setHasLoggedIn(false);\n    }\n    else{\n      setHasLoggedIn(true);\n    }\n}\n\n  useEffect(() => {\n    checkForToken();\n    console.log(hasLoggedIn);\n    return hasLoggedIn;\n  }, []);\n  \n\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <div class=\"w-11/12\">\n          <Welcome  hasLoggedIn={hasLoggedIn}/>\n          <SearchTrack seedTracks={seedTracks} updateSeeds={updateSeeds} />\n          <DisplaySeeds seedTracks={seedTracks} deleteSeed={deleteSeed}/>\n          <DisplayRecommendations seedTracks={seedTracks} recommendations={recommendations} updateRecommendations={updateRecommendations} deleteRecommendation={deleteRecommendation}/>\n          <CreatePlaylist seedTracks={seedTracks} recommendations={recommendations}/>\n        </div>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","/Users/blainehill/Desktop/Arcane/src/DisplaySeeds.js",["43"],"import React from \"react\";\n\nconst DisplaySeeds = ({ seedTracks, deleteSeed }) => {\n    \n    return(\n        <div>\n            {seedTracks.length > 0 &&\n                <div>\n                    <br />\n                    Your Seeds are:\n                    <br />\n                    <div class=\"flex flex-row mx-16 my-4 px-4 py-4 ring rounded-lg\">\n                        {seedTracks.map((seedTrack) => {\n                            return(\n                                <div class=\"container\" key={seedTrack.id}>\n                                    <button name={seedTrack.name} class=\"object-cover w-full h-full p-4 ring rounded-lg hover:bg-blue-500 active:bg-green-800\" onClick={() => deleteSeed(seedTracks, seedTrack)}>\n                                        <img src={seedTrack.album.images[0].url} />\n                                        <p>{seedTrack.name} <br /> <i>by {seedTrack.artists[0].name}</i></p>\n                                    </button>\n                                </div>\n                            );\n                            })}\n                            {[...Array(5-(seedTracks.length || 0))].map((i) =>{\n                                return(\n                                    <div class=\"container\" key={i}>\n                                        <div class=\"object-cover w-full h-full p-4 ring rounded-lg min-h:full\" />\n                                    </div>\n                                );\n                            })\n                        }\n                        \n                    </div>\n                </div>\n            }\n        </div>\n    );\n}\nexport default DisplaySeeds;","/Users/blainehill/Desktop/Arcane/src/Welcome.js",["44","45","46","47"],"import React, {  useEffect } from \"react\";\nimport { Button } from 'react-bootstrap';\nimport Cookies from \"js-cookie\";\nimport music_note from \"./music/music.png\"\n\nfunction Welcome({ hasLoggedIn }){\n\n    const token_key = 'arcane-token-key';\n\n    const [quote, setQuote] = React.useState(\"\");\n\n    function getHashParams() {\n        var hashParams = {};\n        var e, r = /([^&;=]+)=?([^&;]*)/g,\n            q = window.location.hash.substring(1);\n        while ( e = r.exec(q)) {\n          hashParams[e[1]] = decodeURIComponent(e[2]);\n        }\n        return hashParams;\n    }\n\n    function setCookie(){\n        Cookies.remove(token_key);\n        var params = getHashParams();\n        if(params.access_token != null && params.access_token != ''){\n            Cookies.set(token_key, params.access_token, { expires: 3599/86400 }) //set the cookie to expire after 59 min and 59 sec \n        }\n    }\n\n    useEffect(() => {\n        async function fetchQuote() {\n            try {\n                const response = await fetch('https://api.quotable.io/random'); //used the following API: https://github.com/lukePeavey/quotable\n                const data = await response.json();\n                console.log(`${data.content} —${data.author}`);\n                setQuote(`${data.content} —${data.author}`);\n            } catch (error) {\n              console.log(error);\n            }\n        }\n      \n        fetchQuote();\n\n      }, []);\n    \n    return(\n        <div class=\"p-2 mx-auto my-auto\">\n            <div class=\"flex flex-auto flex-column flex center mx-auto my-auto p-4\">\n                <div class=\"flex flex-auto flex-row flex-wrap flex-center mx-auto\">\n                    <img src={music_note} class=\"mx-auto\"/>\n                    <h4>Welcome to Arcane!</h4>\n                    <img src={music_note} class=\"mx-auto\"/>\n                    <br />\n                </div>\n                <br />\n                <sub class=\"text-muted my-10 mx-auto\">{quote}</sub>\n                <br />\n                <small class=\"text-muted my-10\">Here's how it works: login with your Spotify account. Then, select up to five of your favorite songs to be the seeds for your curated mix. Then plug in some headphones and enjoy your own Arcane experience!</small>\n                <br />\n            </div>\n            { hasLoggedIn ?\n                <div></div>\n                :\n                <a href=\"/login\">\n                    <Button class=\"bg-gray-800\" variant=\"secondary btn-lg\" onClick={() => setCookie()}>\n                        Log in with Spotify!\n                    </Button>\n                </a>\n            }\n        </div>\n    );\n}\n\n\nexport default Welcome;","/Users/blainehill/Desktop/Arcane/src/DisplayRecommendations.js",["48","49"],"/Users/blainehill/Desktop/Arcane/src/SearchTrack.js",["50","51","52","53","54"],"import React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport $ from 'jquery';\nimport { Form, InputGroup, Button } from 'react-bootstrap';\nimport Cookies from \"js-cookie\";\n\n\nconst SearchTrack = ({ seedTracks, updateSeeds }) => {\n\n    const { register, handleSubmit, watch, errors } = useForm();\n    const [trackQuery, setTrackQuery] = useState('');\n    const [tracks, setTracks] = useState([]);\n    const [searched, setSearched] = useState(false);\n\n    function handleChange(event) {\n        setTrackQuery({...trackQuery, [event.target.name]: event.target.value})\n    }\n\n    const onSubmit = () => {\n        setSearched(true);\n        searchTrackByName(trackQuery.query, 'arcane-token-key');\n    }\n\n    function searchTrackByName(track_name, token_key) {\n\n        $.ajax({\n            url: \"/trackSearch\",\n            data: {\n                track_value: track_name,\n                token: Cookies.get(token_key),\n                limit: \"5\",\n                type: \"GET\"\n            }\n        }).done(function (data) {\n            if (responseIsSuccess(data)) {\n                setTracks(data.trackResult.tracks.items);\n            }\n        });\n    }\n\n    function responseIsSuccess(data) {\n        var error;\n        if (data && data.status.error == null) {\n            error = data.status;\n        } else {\n            error = data.status.error.response.status || \"401\";\n        }\n\n        var msg = data.message;\n        // if unauthorized we need to prompt log in\n        if (error && parseInt(error) == 401) {\n            alert(msg);\n            return false;\n        }\n        if (error && error >= 400) {\n            console.log(msg);\n            alert(msg || \"Error: Please try logging in and out again.\");\n            return false;\n        }\n        return true;\n    }\n\n    function addTracktoSeeds(track){\n        if(seedTracks.length < 5){\n            updateSeeds(seedTracks, track);\n        }\n        \n        \n    }\n\n\n    return(\n        <div>\n            <Form onSubmit={handleSubmit(onSubmit)}>\n                <div class=\"flex flex-col m-10\">\n                    <Form.Label class=\"py-1\">Search for your top tracks:</Form.Label>\n                    <Form.Text className=\"text-muted py-1\">\n                        Select a track below to add it to your recommendation seeds\n                    </Form.Text>\n\n                    <InputGroup className=\"mb-3\">\n                        <Form.Control required id=\"validationTrack\" class=\"p-12\" name=\"query\" placeholder=\"Enter track name\" defaultValue={''} autoComplete=\"on\" onChange={handleChange} ref={register({minLength: 2})}/>\n                        <InputGroup.Append>\n                        <Button class=\"bg-gray-800\" type=\"submit\" defaultValue=\"Submit\" variant=\"secondary\">Submit</Button>\n                        </InputGroup.Append>\n                    </InputGroup>\n                </div>\n            </Form>\n            \n            {searched == true && \n                <div class=\"flex flex-row flex-wrap mx-8 my-4 px-4 py-4 ring rounded-lg\">\n                    {tracks.map((track) => {\n                        return(\n                            <div class=\"container mx-auto w-1/5 p-3\">\n                                <button class=\"object-cover w-full h-full p-4 ring rounded-lg hover:bg-blue-500 active:bg-green-800\" key={track.id} onClick={() => addTracktoSeeds(track)} name={track.name}>   \n                                    <img src={track.album.images[0].url} />\n                                    <p>{track.name} <br /> <i>by {track.artists[0].name}</i></p>\n                                </button>\n                            </div>\n                            );\n                        })}\n                </div>\n            }\n        </div>\n\n    );\n}\n\n\nexport default SearchTrack;","/Users/blainehill/Desktop/Arcane/src/CreatePlaylist.js",["55"],"import React from \"react\";\nimport $ from 'jquery';\nimport { Button } from 'react-bootstrap';\nimport Cookies from \"js-cookie\";\n\n\nconst CreatePlaylist= ({ seedTracks, recommendations }) => {\n\n    function generatePlaylist(seedTrack_names, recommendation_ids, token_key) {\n        \n        let requestData = {\n            seedTrack_names: seedTrack_names,\n            token: Cookies.get(token_key)\n        };\n\n        $.ajax({\n            url: \"/createPlaylist\",\n            dataType : 'json',\n            data: requestData,\n            type: \"GET\"\n        }).done(function (response) {\n            if (responseIsSuccess(response)) {\n\n                let requestData2 ={\n                    recommendation_ids: recommendation_ids,\n                    playlist_id: response.data,\n                    token: Cookies.get(token_key)\n                }\n\n                $.ajax({\n                    url: \"/addTracks\",\n                    dataType : 'json',\n                    data: requestData2,\n                    type: \"GET\"\n                }).done(function(response2){\n                    alert(\"Check out Spotify for your new Arcane Mix!\");\n                })\n            }\n        });\n    }\n\n\n    function responseIsSuccess(data) {\n        var error;\n        if (data && data.status.error == null) {\n            error = data.status;\n        } else {\n            error = data.status.error.response.status || \"401\";\n        }\n\n        var msg = data.message;\n        // if unauthorized we need to prompt log in\n        if (error && parseInt(error) == 401) {\n            alert(msg);\n            return false;\n        }\n        if (error && error >= 400) {\n            console.log(msg);\n            alert(msg || \"Error: Please try logging in and out again.\");\n            return false;\n        }\n        return true;\n    }\n\n\n\n    return(\n        <div>\n            { recommendations.length > 0 &&\n            <div>\n                <br />\n                <Button class=\"bg-gray-800\" variant=\"secondary btn-lg\" onClick={() => generatePlaylist(seedTracks.map( track => track.artists[0].name), recommendations.map( track => track.id), 'arcane-token-key')}>\n                    Create Playlist!\n                </Button>\n                <br />\n                <br />\n            </div>\n            }       \n        </div>\n        );\n}\n\nexport default CreatePlaylist;",{"ruleId":"56","severity":1,"message":"57","line":2,"column":8,"nodeType":"58","messageId":"59","endLine":2,"endColumn":9},{"ruleId":"56","severity":1,"message":"60","line":3,"column":8,"nodeType":"58","messageId":"59","endLine":3,"endColumn":14},{"ruleId":"61","replacedBy":"62"},{"ruleId":"63","replacedBy":"64"},{"ruleId":"65","severity":1,"message":"66","line":41,"column":31,"nodeType":"67","messageId":"68","endLine":41,"endColumn":33},{"ruleId":"69","severity":1,"message":"70","line":53,"column":6,"nodeType":"71","endLine":53,"endColumn":8,"suggestions":"72"},{"ruleId":"73","severity":1,"message":"74","line":17,"column":41,"nodeType":"75","endLine":17,"endColumn":84},{"ruleId":"76","severity":1,"message":"77","line":16,"column":17,"nodeType":"78","messageId":"79","endLine":16,"endColumn":30},{"ruleId":"65","severity":1,"message":"80","line":25,"column":63,"nodeType":"67","messageId":"68","endLine":25,"endColumn":65},{"ruleId":"73","severity":1,"message":"74","line":50,"column":21,"nodeType":"75","endLine":50,"endColumn":60},{"ruleId":"73","severity":1,"message":"74","line":52,"column":21,"nodeType":"75","endLine":52,"endColumn":60},{"ruleId":"65","severity":1,"message":"66","line":39,"column":38,"nodeType":"67","messageId":"68","endLine":39,"endColumn":40},{"ruleId":"73","severity":1,"message":"74","line":70,"column":45,"nodeType":"75","endLine":70,"endColumn":84},{"ruleId":"56","severity":1,"message":"81","line":10,"column":37,"nodeType":"58","messageId":"59","endLine":10,"endColumn":42},{"ruleId":"56","severity":1,"message":"82","line":10,"column":44,"nodeType":"58","messageId":"59","endLine":10,"endColumn":50},{"ruleId":"65","severity":1,"message":"66","line":51,"column":38,"nodeType":"67","messageId":"68","endLine":51,"endColumn":40},{"ruleId":"65","severity":1,"message":"66","line":90,"column":23,"nodeType":"67","messageId":"68","endLine":90,"endColumn":25},{"ruleId":"73","severity":1,"message":"74","line":96,"column":37,"nodeType":"75","endLine":96,"endColumn":76},{"ruleId":"65","severity":1,"message":"66","line":53,"column":38,"nodeType":"67","messageId":"68","endLine":53,"endColumn":40},"no-unused-vars","'$' is defined but never used.","Identifier","unusedVar","'Popper' is defined but never used.","no-native-reassign",["83"],"no-negated-in-lhs",["84"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'hasLoggedIn'. Either include it or remove the dependency array.","ArrayExpression",["85"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-cond-assign","Expected a conditional expression and instead saw an assignment.","AssignmentExpression","missing","Expected '!==' and instead saw '!='.","'watch' is assigned a value but never used.","'errors' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"86","fix":"87"},"Update the dependencies array to be: [hasLoggedIn]",{"range":"88","text":"89"},[1450,1452],"[hasLoggedIn]"]